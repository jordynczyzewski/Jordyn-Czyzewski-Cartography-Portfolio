"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50052],{48858:(e,t,i)=>{i.d(t,{N:()=>y,Z:()=>u});var s=i(406029),n=i(571711),o=i.n(n),a=i(455729),r=i(332988),l=i.n(r),c=i(951268),d=i(882453),p=i(592458),m=i(610346);let y="slides-count",u=(0,a.memo)(({srOnlyMessage:e,currentNumber:t,totalNumber:i,progressNumbersClassName:n})=>{let a=(0,m.Y)(),r=e=>a(e,{minimumIntegerDigits:i.toString().length}),u=r(t),h=r(i),g=i<=0;return(0,s.jsxs)("div",{className:o().dynamic([["34715839fcc2cd97",[c.Ay.gapped({direction:"horizontal",gap:d.Ay.spacing.xxxs})]]])+" content-progress",children:[(0,s.jsx)("div",{"aria-live":"assertive","aria-atomic":"true",id:y,className:o().dynamic([["34715839fcc2cd97",[c.Ay.gapped({direction:"horizontal",gap:d.Ay.spacing.xxxs})]]])+" "+(p.u||""),children:e}),(0,s.jsxs)("div",{role:"presentation",dir:"ltr",className:o().dynamic([["34715839fcc2cd97",[c.Ay.gapped({direction:"horizontal",gap:d.Ay.spacing.xxxs})]]])+" "+(n||""),children:[(0,s.jsx)("div",{className:o().dynamic([["34715839fcc2cd97",[c.Ay.gapped({direction:"horizontal",gap:d.Ay.spacing.xxxs})]]])+" "+(l()({empty:g})||""),children:u}),(0,s.jsx)("div",{className:o().dynamic([["34715839fcc2cd97",[c.Ay.gapped({direction:"horizontal",gap:d.Ay.spacing.xxxs})]]]),children:"/"}),(0,s.jsx)("div",{className:o().dynamic([["34715839fcc2cd97",[c.Ay.gapped({direction:"horizontal",gap:d.Ay.spacing.xxxs})]]])+" "+(l()({empty:g})||""),children:h})]}),(0,s.jsx)(o(),{id:"34715839fcc2cd97",dynamic:[c.Ay.gapped({direction:"horizontal",gap:d.Ay.spacing.xxxs})],children:`[role="presentation"].__jsx-style-dynamic-selector{font-variant-numeric:tabular-nums;${c.Ay.gapped({direction:"horizontal",gap:d.Ay.spacing.xxxs})}}.empty.__jsx-style-dynamic-selector{position:relative;visibility:hidden}.empty.__jsx-style-dynamic-selector::after{visibility:visible;content:"-";position:absolute;inset:0;text-align:center}`})]})})},131383:(e,t,i)=>{i.d(t,{iF:()=>o,jq:()=>r,kp:()=>a,r3:()=>n});var s=i(800224);let n=async(e,t=!0)=>await s.t.insertNode(e,t),o=async e=>await s.t.insertSubtree(e),a=s.t.insertResource,r=async e=>{let{data:t,mode:i,context:n,registry:o}=e,a={...n||{},storyData:t};return s.t.setRegistry(o),await s.t.build({data:t,mode:i,context:a})}},188704:(e,t,i)=>{i.d(t,{A:()=>j});var s=i(406029),n=i(571711),o=i.n(n),a=i(455729),r=i(947),l=i(332988),c=i.n(l),d=i(652225),p=i(395597),m=i(882453),y=i(951268),u=i(52457),h=i(724875),g=i(511206),x=i(892810),b=i(739962),A=i(980933),f=i(968313);let j=e=>{let{formatMessage:t}=(0,r.A)(),{isViewportMinWidth:i,isViewportMaxWidth:n}=(0,d.Ye)(),{updateAppOffsetValues:l}=(0,x.k3)(),{theme:j}=(0,p.df)(),v=n("extra-small");(0,a.useEffect)(()=>(l({top:{storyHeader:(0,u.U)(b.q8)}}),()=>{l({top:{storyHeader:0}})}),[]),(0,a.useEffect)(()=>{v?l({top:{storyHeader:0}}):l({top:{storyHeader:(0,u.U)(b.q8)}})},[v]);let k=i("medium")&&!e.isBlurredBackground?"1px":"0px";if(e.printMode)return null;let C="frame-viewer-header",I={styles:(0,s.jsx)(o(),{id:"1e5bb5ef7069ea68",dynamic:[C,C,j.colors.labelReverse,j.colors.labelReverse,C,j.colors.labelReverse,C,j.colors.interactiveHover,j.colors.interactiveHover,C,j.colors.interactiveHover,j.colors.interactiveHover,C,m.Ay.responsiveBreakpoints.small,C],children:`.${C}.__jsx-style-dynamic-selector{display:none}.${C}.blurred-background.__jsx-style-dynamic-selector{border-bottom:none;background:transparent;color:${j.colors.labelReverse};fill:${j.colors.labelReverse}}.${C}.blurred-background.__jsx-style-dynamic-selector .header-actions-container .button svg{fill:${j.colors.labelReverse}}.${C}.blurred-background.__jsx-style-dynamic-selector button.button.single-icon:not(.disabled):hover *{background-color:${j.colors.interactiveHover};background:${j.colors.interactiveHover}}.${C}.blurred-background.__jsx-style-dynamic-selector button:not(.disabled):hover{background-color:${j.colors.interactiveHover};background:${j.colors.interactiveHover}}.${C}.blurred-background.__jsx-style-dynamic-selector button.button.single-icon *{background:transparent;background-color:transparent}@media(min-width:${m.Ay.responsiveBreakpoints.small}){.${C}.__jsx-style-dynamic-selector{display:block}}`}),className:o().dynamic([["1e5bb5ef7069ea68",[C,C,j.colors.labelReverse,j.colors.labelReverse,C,j.colors.labelReverse,C,j.colors.interactiveHover,j.colors.interactiveHover,C,j.colors.interactiveHover,j.colors.interactiveHover,C,m.Ay.responsiveBreakpoints.small,C]]])},w=t({id:"component.autoplay.returnToTop.label"},{itemTitle:e.title});return(0,s.jsxs)(A.A,{className:c()(C,I.className,{"blurred-background":e.isBlurredBackground}),borderThickness:k,...e,children:[(0,s.jsxs)("div",{className:o().dynamic([["ecc4c204a6a60964",[y.Ay.gapped({direction:"horizontal",gap:m.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})]]])+" start-content",children:[e.isOrgItem?(0,s.jsxs)(s.Fragment,{children:[e.shouldShowLogoInHeader&&(0,s.jsx)(g.A,{}),(0,s.jsx)("button",{type:"button","aria-label":w,onClick:e.onTitleClicked,className:o().dynamic([["ecc4c204a6a60964",[y.Ay.gapped({direction:"horizontal",gap:m.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})]]])+" inherit",children:(0,s.jsx)(f.A,{title:e.title,itemType:h.z.Frame})})]}):e.appLogo,(0,s.jsx)(o(),{id:"ecc4c204a6a60964",dynamic:[y.Ay.gapped({direction:"horizontal",gap:m.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})],children:`.start-content.__jsx-style-dynamic-selector{${y.Ay.gapped({direction:"horizontal",gap:m.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})}}button.inherit.__jsx-style-dynamic-selector{color:inherit;text-align:inherit}`})]}),I.styles]})}},256449:(e,t,i)=>{i.d(t,{xT:()=>c});var s=i(647682),n=i(20771),o=i(443331);let a=e=>Object.values(e?.resources??{}).find(({type:e})=>"story-theme"===e)?.data.themeItemId,r=async({themeItemId:e,storyItemData:t,authManager:i,portalHost:s,signal:o})=>{let r=e??a(t);if(!r)return[];try{let e=await (0,n.e)({itemId:r,authManager:i,portalHost:s,signal:o});return e.unpublished?[void 0,r]:[e,r]}catch{return[void 0,r]}},l=async({themeItemId:e,storyItemData:t,authManager:i,portalHost:n,signal:r})=>{let l=e??a(t);if(l)try{return await (0,s.Gq)(l,{authentication:i,portal:(0,o.mZ)(n,i),signal:r})}catch{return}},c=async({themeItemId:e,storyItemData:t,authManager:i,skipDetails:s,portalHost:n,signal:o})=>{let[[a,c],d]=await Promise.all([r({themeItemId:e,storyItemData:t,authManager:i,portalHost:n}),s?void 0:l({themeItemId:e,storyItemData:t,authManager:i,portalHost:n,signal:o})]);return{...c&&{id:c},...a&&{data:a},...d&&{title:d.title,owner:d.owner},...d?.isOrgItem&&{isOrgItem:d.isOrgItem}}}},257422:(e,t,i)=>{i.d(t,{G:()=>l});let s={node:{"activity-map":{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(34329),i.e(37700)]).then(i.bind(i,605667))},audio:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(26798)]).then(i.bind(i,974125))},text:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(99828)]).then(i.bind(i,210108))},instruction:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(91607)]).then(i.bind(i,291607))},table:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(59751)]).then(i.bind(i,302480))},button:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(30486)]).then(i.bind(i,730486))},separator:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(9174)]).then(i.bind(i,709174))},carousel:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(81471)]).then(i.bind(i,881471))},gallery:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(34329),i.e(60566)]).then(i.bind(i,145929))},storycover:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(20919),i.e(77447)]).then(i.bind(i,120919))},immersive:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(76928)]).then(i.bind(i,676928))},"immersive-slide":{load:()=>Promise.all([i.e(96975),i.e(27278),i.e(33933),i.e(45153),i.e(45367),i.e(55285),i.e(26274),i.e(59238),i.e(8700),i.e(39485),i.e(93320),i.e(43331),i.e(25692),i.e(847),i.e(36065),i.e(33283),i.e(9443),i.e(60655),i.e(85012),i.e(39296),i.e(19821),i.e(44304),i.e(42268),i.e(85585),i.e(81630),i.e(9245),i.e(84398),i.e(54062),i.e(67557),i.e(95376),i.e(30738),i.e(46290),i.e(85059),i.e(64074),i.e(3966),i.e(58571),i.e(10913),i.e(74235),i.e(73380),i.e(54860),i.e(71960),i.e(94551),i.e(30944),i.e(75104)]).then(i.bind(i,999407))},"immersive-narrative-panel":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(10659)]).then(i.bind(i,110659))},tour:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(20141)]).then(i.bind(i,320141))},"tour-place":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(82168)]).then(i.bind(i,282168))},"tour-map":{load:()=>Promise.all([i.e(46593),i.e(96975),i.e(27278),i.e(55285),i.e(26274),i.e(59238),i.e(8700),i.e(93320),i.e(43331),i.e(25692),i.e(847),i.e(36065),i.e(33283),i.e(9443),i.e(60655),i.e(85012),i.e(39296),i.e(19821),i.e(44304),i.e(42268),i.e(85585),i.e(81630),i.e(9245),i.e(84398),i.e(54062),i.e(67557),i.e(95376),i.e(87034),i.e(2883),i.e(49463),i.e(93615),i.e(3966),i.e(14798),i.e(8864),i.e(89156)]).then(i.bind(i,689156))},story:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(14496),i.e(74556)]).then(i.bind(i,514496))},embed:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(41210),i.e(64968)]).then(i.bind(i,453276))},image:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(22136)]).then(i.bind(i,922136))},image360:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(74356)]).then(i.bind(i,861905))},video:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(41210),i.e(64968),i.e(30330)]).then(i.bind(i,130330))},expressmap:{load:()=>Promise.all([i.e(75084),i.e(46593),i.e(45674),i.e(20185),i.e(96975),i.e(37280),i.e(55285),i.e(59238),i.e(8700),i.e(25692),i.e(33283),i.e(9443),i.e(14320),i.e(42268),i.e(68763),i.e(65540),i.e(9245),i.e(84398),i.e(54062),i.e(67557),i.e(95376),i.e(30738),i.e(68546),i.e(18510),i.e(79339),i.e(46633),i.e(26643),i.e(36712),i.e(30957),i.e(6686),i.e(3966),i.e(10108),i.e(14798),i.e(59788),i.e(77791),i.e(82133),i.e(43016)]).then(i.bind(i,440459))},webmap:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(84398),i.e(54062),i.e(18510),i.e(79339),i.e(41054),i.e(3966),i.e(54778),i.e(10108),i.e(73641)]).then(i.bind(i,173641))},"thematic-map":{load:()=>Promise.all([i.e(96975),i.e(37280),i.e(55285),i.e(26274),i.e(59238),i.e(8700),i.e(93320),i.e(43331),i.e(25692),i.e(847),i.e(36065),i.e(33283),i.e(9443),i.e(60655),i.e(85012),i.e(39296),i.e(19821),i.e(44304),i.e(42268),i.e(85585),i.e(81630),i.e(9245),i.e(84398),i.e(54062),i.e(95376),i.e(18510),i.e(79339),i.e(87034),i.e(2883),i.e(64180),i.e(3966),i.e(10108),i.e(48523)]).then(i.bind(i,19366))},credits:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(4299)]).then(i.bind(i,304299))},attribution:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(62222)]).then(i.bind(i,462222))},"action-button":{load:()=>Promise.all([i.e(9245),i.e(79339),i.e(3966),i.e(56235)]).then(i.bind(i,556235))},navigation:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(16630)]).then(i.bind(i,116630))},swipe:{load:()=>Promise.all([i.e(75084),i.e(45674),i.e(20185),i.e(96975),i.e(37280),i.e(55285),i.e(59238),i.e(8700),i.e(25692),i.e(33283),i.e(9443),i.e(14320),i.e(42268),i.e(68763),i.e(65540),i.e(9245),i.e(84398),i.e(54062),i.e(95376),i.e(30738),i.e(68546),i.e(18510),i.e(79339),i.e(46633),i.e(26643),i.e(36712),i.e(30957),i.e(24016),i.e(69712),i.e(3966),i.e(10108),i.e(57763)]).then(i.bind(i,902670))},code:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(2420)]).then(i.bind(i,812653))},timeline:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(66034)]).then(i.bind(i,517789))},"timeline-event":{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(62774)]).then(i.bind(i,87129))},"timeline-spacer":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(67051)]).then(i.bind(i,667051))},"mobile-package":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(10517)]).then(i.bind(i,910517))},error:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(44125)]).then(i.bind(i,144125))},chart:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(40359)]).then(i.bind(i,179756))},grid:{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(58740)]).then(i.bind(i,266709))},standalone:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(75805)]).then(i.bind(i,375805))},"large-number":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(81493)]).then(i.bind(i,781493))}},resource:{audio:{load:()=>i.e(29176).then(i.bind(i,629176))},image:{load:()=>Promise.all([i.e(46593),i.e(60754)]).then(i.bind(i,360754))},image360:{load:()=>Promise.all([i.e(46593),i.e(60754),i.e(13647)]).then(i.bind(i,313647))},video:{load:()=>i.e(29190).then(i.bind(i,29190))},expressmap:{load:()=>Promise.all([i.e(46593),i.e(45674),i.e(20185),i.e(96975),i.e(55285),i.e(59238),i.e(25692),i.e(33283),i.e(9443),i.e(14320),i.e(68763),i.e(65540),i.e(84398),i.e(54062),i.e(67557),i.e(95376),i.e(68546),i.e(24016),i.e(77272),i.e(50703),i.e(14798),i.e(59788),i.e(54983),i.e(77791),i.e(47556)]).then(i.bind(i,286536))},webmap:{load:()=>i.e(97114).then(i.bind(i,897114))},"story-theme":{load:()=>Promise.all([i.e(46593),i.e(60754),i.e(59646)]).then(i.bind(i,459646))},"portal-item":{load:()=>i.e(47289).then(i.bind(i,947289))},"feature-layer":{load:()=>i.e(55729).then(i.bind(i,555729))},"thematic-map-dataset":{load:()=>i.e(96482).then(i.bind(i,696482))},"express-image-data":{load:()=>i.e(6484).then(i.bind(i,206484))},font:{load:()=>Promise.resolve().then(i.bind(i,539838))},"file-item":{load:()=>i.e(65161).then(i.bind(i,165161))},"geo-data":{load:()=>i.e(76141).then(i.bind(i,76141))},json:{load:()=>i.e(75985).then(i.bind(i,375985))},"ai-metadata":{load:()=>i.e(67839).then(i.bind(i,267839))}}},n={node:{collection:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(59338)]).then(i.bind(i,259338))},"collection-ui":{load:()=>Promise.all([i.e(9245),i.e(84398),i.e(54062),i.e(95376),i.e(11304),i.e(3966),i.e(70295),i.e(14938),i.e(86999),i.e(78226)]).then(i.bind(i,978226))},"collection-cover":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(69217)]).then(i.bind(i,669217))},"collection-nav":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(1985)]).then(i.bind(i,601985))},"collection-item":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(58074)]).then(i.bind(i,858074))},"collection-map":{load:()=>Promise.all([i.e(46593),i.e(96975),i.e(59238),i.e(9245),i.e(84398),i.e(54062),i.e(67557),i.e(49197),i.e(3966),i.e(14798),i.e(54983),i.e(86398)]).then(i.bind(i,609860))}},resource:{}},o={node:{briefing:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(55989),i.e(38539)]).then(i.bind(i,555989))},"briefing-ui":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(93841)]).then(i.bind(i,693841))},"briefing-slide":{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(41210),i.e(64968),i.e(30330),i.e(20919),i.e(58185),i.e(21089)]).then(i.bind(i,321089))},"briefing-slide-content-pane":{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(41210),i.e(64968),i.e(30330),i.e(58185)]).then(i.bind(i,458185))}},resource:{}},a={node:{frame:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(38735),i.e(23316)]).then(i.bind(i,623316))},"frame-ui":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(38735)]).then(i.bind(i,438735))},"frame-panel":{load:()=>Promise.all([i.e(37280),i.e(9245),i.e(18510),i.e(79339),i.e(3966),i.e(54778),i.e(10108),i.e(41210),i.e(64968),i.e(30330),i.e(23596)]).then(i.bind(i,923596))},"frame-timeline":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(64033)]).then(i.bind(i,564033))},"frame-journey":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(24802)]).then(i.bind(i,524802))},"frame-custom":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(23260)]).then(i.bind(i,823260))},"journey-place":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(68760)]).then(i.bind(i,368760))},"journey-map":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(61747)]).then(i.bind(i,861747))},"frame-slide":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(64991)]).then(i.bind(i,564991))},"frame-narrative-panel":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(94617)]).then(i.bind(i,794617))}},resource:{}},r={node:{globe:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(74083)]).then(i.bind(i,874083))},"express-mapping":{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(72332)]).then(i.bind(i,72332))},template:{load:()=>Promise.all([i.e(9245),i.e(3966),i.e(89271)]).then(i.bind(i,989271))}},resource:{}},l=e=>({node:{...s.node,...n.node,...o.node,...a.node,...e.includeLabItems?r.node:{}},resource:{...s.resource,...n.resource,...o.resource,...a.resource,...e.includeLabItems?r.resource:{}}})},328864:(e,t,i)=>{i.d(t,{A:()=>H});var s=i(406029),n=i(571711),o=i.n(n),a=i(455729),r=i(639151),l=i(332988),c=i.n(l),d=i(41270),p=i(224110),m=i(951268),y=i(882453),u=i(476011),h=i(652225),g=i(395597),x=i(52457),b=i(724875),A=i(511206),f=i(337139),j=i(892810),v=i(794958),k=i(739962),C=i(644152),I=i(980933),w=i(968313),_=i(244835),S=i(104743),P=i(162094),$=i(469121),N=i(108173),T=i(95206),B=i(35068),D=i(48858);let L=(0,a.memo)(({currentTitle:e,currentNumber:t,totalNumber:i})=>{let n=(0,B.A)(),a=(0,f.cu)(),r=(0,_.I)(a),l=n("component.collection.navigationControls.ariaLive",{contentTitle:e,index:t,total:i}),d={styles:(0,s.jsx)(o(),{id:"f39ab42257cf5d76",dynamic:[r.defaultForegroundColor,m.Ay.typography.blockReg()],children:`.collection-progress-numbers.__jsx-style-dynamic-selector{color:${r.defaultForegroundColor};${m.Ay.typography.blockReg()}}`}),className:o().dynamic([["f39ab42257cf5d76",[r.defaultForegroundColor,m.Ay.typography.blockReg()]]])};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.Z,{srOnlyMessage:l,currentNumber:t,totalNumber:i,progressNumbersClassName:c()("collection-progress-numbers",d.className)}),d.styles]})});class z extends a.PureComponent{render(){let{titlesArray:e}=this.props.collectionData;if(!e)return null;let{currentIndex:t}=this.props.collectionDisplay,i=e.length,n=e[t]||"",a=e[t-1]||"",r=e[t+1]||"",l=(0,_.I)(this.props.storyDesign.themeVariables),d={styles:(0,s.jsx)(o(),{id:"e35f3a3c0550644d",dynamic:[y.Ay.spacing.xxxs,m.Ay.circle(y.Ay.spacing.xs),m.Ay.center(),l.defaultBackgroundColor,l.defaultForegroundColor,l.separatorColor,l.hoverBackgroundColor,l.disabledForegroundColor,l.disabledForegroundColor,l.defaultBackgroundColor],children:`.arrow-button.single-icon.button.__jsx-style-dynamic-selector{padding:${y.Ay.spacing.xxxs}}.arrow-button.single-icon.button.__jsx-style-dynamic-selector .icon-wrapper{${m.Ay.circle(y.Ay.spacing.xs)};${m.Ay.center()}
        background-color: ${l.defaultBackgroundColor};color:${l.defaultForegroundColor};border:1px solid ${l.separatorColor};border-radius:50%;padding:4px}.arrow-button.single-icon.button.__jsx-style-dynamic-selector:not(.disabled):hover .icon-wrapper,.arrow-button.single-icon.button.__jsx-style-dynamic-selector:not(.disabled):active .icon-wrapper{background-color:${l.hoverBackgroundColor}}.arrow-button.single-icon.button.disabled.__jsx-style-dynamic-selector{color:${l.disabledForegroundColor};cursor:not-allowed}.arrow-button.single-icon.disabled.__jsx-style-dynamic-selector .icon-wrapper{color:${l.disabledForegroundColor};background-color:${l.defaultBackgroundColor}}`}),className:o().dynamic([["e35f3a3c0550644d",[y.Ay.spacing.xxxs,m.Ay.circle(y.Ay.spacing.xs),m.Ay.center(),l.defaultBackgroundColor,l.defaultForegroundColor,l.separatorColor,l.hoverBackgroundColor,l.disabledForegroundColor,l.disabledForegroundColor,l.defaultBackgroundColor]]])},p=i-1;return(0,s.jsxs)("nav",{"aria-label":this.props.intl.formatMessage({id:"component.collections.navigationControls.navbar.ariaLabel"}),className:o().dynamic([["30eb01b84c2fbb80",[m.Ay.gapped({direction:"horizontal",gap:y.Ay.spacing.xxxs,alignItems:"center",justifyContent:"center"}),m.Ay.center(),l.defaultBackgroundColor,l.defaultForegroundColor,m.Ay.circle(y.Ay.spacing.xs),l.hoverBackgroundColor,l.hoverForegroundColor,l.disabledForegroundColor]]])+" arrow-button-container",children:[(0,s.jsxs)($.m_,{disabled:0===t,offset:0,children:[(0,s.jsx)($.k$,{children:(0,s.jsx)(N.Ay,{className:c()("arrow-button",d.className),onClick:this.onClickPrevious,disabled:0===t,type:"single-icon",visuallyHiddenLabel:this.props.intl.formatMessage({id:"common.previous"}),children:(0,s.jsx)(u.A,{path:S.W,size:16,shouldFlipRTL:!0})})}),(0,s.jsx)($.ZI,{children:t>0?a:""})]}),(0,s.jsx)(L,{currentTitle:n,currentNumber:t+1,totalNumber:i}),(0,s.jsxs)($.m_,{disabled:t>=p,offset:0,children:[(0,s.jsx)($.k$,{children:(0,s.jsx)(N.Ay,{className:c()("arrow-button",d.className),onClick:this.onClickNext,disabled:t>=i-1,type:"single-icon",visuallyHiddenLabel:this.props.intl.formatMessage({id:"common.next"}),children:(0,s.jsx)(u.A,{path:P.N,size:16,shouldFlipRTL:!0})})}),(0,s.jsx)($.ZI,{children:t<p?r:""})]}),d.styles,(0,s.jsx)(o(),{id:"30eb01b84c2fbb80",dynamic:[m.Ay.gapped({direction:"horizontal",gap:y.Ay.spacing.xxxs,alignItems:"center",justifyContent:"center"}),m.Ay.center(),l.defaultBackgroundColor,l.defaultForegroundColor,m.Ay.circle(y.Ay.spacing.xs),l.hoverBackgroundColor,l.hoverForegroundColor,l.disabledForegroundColor],children:`.arrow-button-container.__jsx-style-dynamic-selector{${m.Ay.gapped({direction:"horizontal",gap:y.Ay.spacing.xxxs,alignItems:"center",justifyContent:"center"})}}.arrow-button.__jsx-style-dynamic-selector{${m.Ay.center()}
            background-color: ${l.defaultBackgroundColor};color:${l.defaultForegroundColor};${m.Ay.circle(y.Ay.spacing.xs)}}.arrow-button.__jsx-style-dynamic-selector:not([disabled]):hover{background-color:${l.hoverBackgroundColor};color:${l.hoverForegroundColor}}.arrow-button[disabled].__jsx-style-dynamic-selector{color:${l.disabledForegroundColor};cursor:not-allowed}`})]})}constructor(...e){super(...e),this.onClickPrevious=()=>{this.onClickArrow(this.props.collectionDisplay.currentIndex-1)},this.onClickNext=()=>{this.onClickArrow(this.props.collectionDisplay.currentIndex+1)},this.onClickArrow=e=>{this.props.collectionDisplay.updateCollectionDisplay({currentIndex:e}),T.A.trackEvent(T.A.Category.Collection,T.A.Action.Collection_Present_Navigate,T.A.Name.Collection_Present_Navigate_Arrow)}}}let F=(0,v.B)((0,r.Ay)((0,f.ng)(z)));class M extends a.Component{static{this.defaultProps={canShowItemTitle:!0}}componentDidMount(){this.props.appOffset.updateAppOffsetValues({top:{storyHeader:(0,x.U)(k.q8)}})}componentWillUnmount(){this.props.appOffset.updateAppOffsetValues({top:{storyHeader:0}})}render(){let e=this.props.isViewportMinWidth("medium"),t=this.props.isViewportMaxWidth("medium"),i="compact"===this.props.collectionData.navigationType,{isCoverShowing:n,currentIndex:a}=this.props.collectionDisplay,r=n?void 0:this.props.getItemHref?.(a),l=!n&&e&&!this.props.isPortrait&&this.props.canShowItemTitle,h=n&&!this.props.isOrgItem||!this.props.canShowItemTitle,g=!n&&(i||t),x=a>=0&&!this.props.collectionDisplay.hideCover,f=x&&(l||h),{separatorColor:j}=(0,_.G)({themeVariables:this.props.storyDesign.themeVariables,websiteTheme:this.props.websiteDesign.theme}),v={styles:(0,s.jsx)(o(),{id:"bce94b96452b000b",children:".three-column-header.jsx-bce94b96452b000b{grid-template-columns:2fr 1fr 2fr}.three-column-header.jsx-bce94b96452b000b .end-content{justify-content:flex-end}"}),className:"jsx-bce94b96452b000b"};return(0,s.jsxs)(I.A,{...this.props,contentClassName:c()(v.className,{"three-column-header":g}),itemHref:r,children:[(0,s.jsxs)("div",{className:o().dynamic([["3afc6aa80411b76b",[m.Ay.gapped({direction:"horizontal",gap:y.Ay.spacing.xxs,alignItems:"center",justifyContent:"start"}),y.Ay.spacing.custom("3.6rem"),j]]])+" start-content",children:[x&&(0,s.jsx)(C.A,{id:"toggle-button",tooltipId:n?"component.collections.closeOverview":"component.collections.openOverview",onClick:this.toggleView,icon:(0,s.jsx)(u.A,{path:n?d.R:p.R,size:24})}),f&&(0,s.jsx)("div",{className:o().dynamic([["3afc6aa80411b76b",[m.Ay.gapped({direction:"horizontal",gap:y.Ay.spacing.xxs,alignItems:"center",justifyContent:"start"}),y.Ay.spacing.custom("3.6rem"),j]]])+" pipe"}),l&&(0,s.jsxs)(s.Fragment,{children:[this.props.shouldShowLogoInHeader&&!h&&(0,s.jsx)(A.A,{}),(0,s.jsx)(w.A,{title:this.props.title,itemType:b.z.Collection})]}),h&&this.props.appLogo]}),g&&(0,s.jsx)(F,{}),v.styles,(0,s.jsx)(o(),{id:"3afc6aa80411b76b",dynamic:[m.Ay.gapped({direction:"horizontal",gap:y.Ay.spacing.xxs,alignItems:"center",justifyContent:"start"}),y.Ay.spacing.custom("3.6rem"),j],children:`.start-content.__jsx-style-dynamic-selector{${m.Ay.gapped({direction:"horizontal",gap:y.Ay.spacing.xxs,alignItems:"center",justifyContent:"start"})}}.start-content.__jsx-style-dynamic-selector .toggle-button .icon-wrapper{padding:4px}.pipe.__jsx-style-dynamic-selector{height:${y.Ay.spacing.custom("3.6rem")};width:1px;background-color:${j}}`})]})}constructor(...e){super(...e),this.toggleView=()=>{this.props.collectionDisplay.updateCollectionDisplay({isCoverShowing:!this.props.collectionDisplay.isCoverShowing})}}}let H=(0,v.B)((0,r.Ay)((0,f.ng)((0,h.S9)((0,j.Cm)((0,g.NV)(M))))))},360434:(e,t,i)=>{i.d(t,{r:()=>s});let s="app-authentication-registration"},360587:(e,t,i)=>{i.d(t,{C:()=>o});var s=i(455729),n=i(341162);let o=({triggerKey:e,hasPrimaryModifier:t=!1,hasShiftKey:i=!1,on:o})=>{let a=(0,s.useCallback)(t=>[].concat(e).includes(t.key),[e]),r=(0,s.useCallback)(e=>{if(e.ctrlKey&&e.metaKey||!t&&i)return!1;let s=e.ctrlKey||e.metaKey,o=e.shiftKey;if(!t)return!s;let{eventKeyName:a}=(0,n.d1)();return i?e[a]&&e.shiftKey:!o&&e[a]},[t,i]);(({conditions:e,on:t})=>{(0,s.useEffect)(()=>{let i=i=>{e.every(e=>e(i))&&t(i)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[e,t])})({conditions:(0,s.useMemo)(()=>[a,r],[a,r]),on:o})}},405280:(e,t,i)=>{i.d(t,{Q:()=>l,A:()=>c});var s=i(455729),n=i(531977),o=i(364537);let a=async({authManager:e,clientId:t,portalHost:s})=>{let[{default:n},{default:o}]=await Promise.all([Promise.all([i.e(75084),i.e(96975),i.e(42268),i.e(84398),i.e(54062),i.e(30738),i.e(16268),i.e(52994)]).then(i.bind(i,816268)),Promise.all([i.e(84398),i.e(54062),i.e(56839)]).then(i.bind(i,258739))]);if(e&&e.token){let t={expires:e.tokenExpires,token:e.token,userId:e.username,server:e.portal};n.registerToken(t)}n.useSignInPage=!1,n.registerOAuthInfos([new o({appId:t,portalUrl:`https://${s}`,popup:!0,popupCallbackUrl:"/oauth-callback?isPopupLogin=true"})])};var r=i(360434);let l=(0,s.memo)(()=>{let{authManager:e}=(0,n.Py)(),{OAUTH_CLIENT_ID:t,PORTAL_HOST:l}=(0,o.UK)();return(0,s.useEffect)(()=>{let e=async e=>{if(e.origin===window.location.origin&&e.data.method===r.r&&"string"==typeof e.data.urlHash){let{default:t}=await Promise.all([i.e(75084),i.e(96975),i.e(42268),i.e(84398),i.e(54062),i.e(30738),i.e(16268),i.e(52994)]).then(i.bind(i,816268));t.setOAuthResponseHash(e.data.urlHash)}};return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e,!1)}},[]),(0,s.useEffect)(()=>{a({authManager:e,clientId:t,portalHost:l})},[]),null}),c=l},412359:(e,t,i)=>{i.d(t,{A:()=>S});var s=i(406029),n=i(571711),o=i.n(n),a=i(455729),r=i(130595),l=i(113623),c=i(360587),d=i(469121),p=i(108173),m=i(476011),y=i(644424);let{className:u,styles:h}={styles:(0,s.jsx)(o(),{id:"ac95417d9c6ab41d",children:".hot-key-text.jsx-ac95417d9c6ab41d{opacity:.6}"}),className:"jsx-ac95417d9c6ab41d"},g=e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.M,{...e,className:u}),h]});var x=i(55814),b=i(112915),A=i(35068),f=i(581695),j=i(332988),v=i.n(j),k=i(396127),C=i(850415);let I=()=>{let e=(0,A.A)(),{briefingDisplay:t,updateBriefingDisplay:i}=(0,x.r)(),{isStoryItemOutlineShowing:n}=t,a=e(n?"component.briefings.header.closeToc":"component.briefings.header.openToc"),{className:r,styles:l}={styles:(0,s.jsx)(o(),{id:"5c4f4a6aadda277b",children:'button.icon-button.briefing-toc-toggle.jsx-5c4f4a6aadda277b:not(.disabled):not([aria-haspopup])[aria-expanded="true"]>*{background-color:var(--color-bg-icon-active)}'}),className:"jsx-5c4f4a6aadda277b"};return(0,s.jsxs)(d.m_,{children:[(0,s.jsx)(d.k$,{autoARIADescribedByEnabled:!1,children:(0,s.jsx)(p.Ay,{type:"single-icon","aria-expanded":n,"aria-controls":C.Er,visuallyHiddenLabel:a,onClick:()=>{i({isStoryItemOutlineShowing:!n})},className:v()(r,"briefing-toc-toggle"),shouldInsetFocusStyle:!0,children:(0,s.jsx)(m.A,{path:k.c,size:16,shouldFlipRTL:!0})})}),(0,s.jsx)(d.ZI,{children:a}),l]})};var w=i(925757);let _=e=>{let t=(0,A.A)(),{toggleHeaderSpace:i}=(0,f.N)(),n=(0,a.useCallback)(e=>{e||i(!0)},[i]),{isDocumentFullscreen:o,toggleDocumentFullscreen:y}=(0,b.eg)({onChange:n,exitFullscreenOnUnmount:!0}),u=o?r.k:l.q,h=t(o?"component.briefings.header.presentationMode.end":"component.briefings.header.presentationMode.start"),x=(0,a.useCallback)(()=>{if(!e.shouldDisablePresentationModeUI)i(!!o),y()},[y,i,o,e.shouldDisablePresentationModeUI]),j={triggerKey:"Enter",hasPrimaryModifier:!0};return(0,c.C)({...j,on:x}),(0,s.jsxs)(d.m_,{children:[(0,s.jsx)(d.k$,{autoARIADescribedByEnabled:e.shouldDisablePresentationModeUI,children:(0,s.jsx)(p.Ay,{type:"single-icon",visuallyHiddenLabel:h,onClick:x,disabled:e.shouldDisablePresentationModeUI,shouldInsetFocusStyle:!0,children:(0,s.jsx)(m.A,{path:u,size:16})})}),(0,s.jsxs)(d.ZI,{children:[h,(0,s.jsx)(g,{...j})]})]})},S=({shouldDisablePresentationModeUI:e,shouldHidePresentationModeUI:t=!1,shouldHideToc:i=!1})=>{let n=(0,x.r)(),a=n.briefingDisplay.currentIndex,r=n.briefingDisplay.totalNumberOfSlides;return(0,s.jsxs)("div",{className:"jsx-e575169fb66b4906 buttons-wrapper",children:[!i&&(0,s.jsx)(I,{}),(0,s.jsx)(w.M,{currentIndex:a,totalNumberOfSlides:r,handlePrev:()=>{n.updateBriefingDisplay({currentIndex:a-1})},handleNext:()=>{n.updateBriefingDisplay({currentIndex:a+1})}}),!t&&(0,s.jsx)(_,{shouldDisablePresentationModeUI:e}),(0,s.jsx)(o(),{id:"e575169fb66b4906",children:".buttons-wrapper.jsx-e575169fb66b4906{display:flex;align-items:center}"})]})}},503843:(e,t,i)=>{i.d(t,{A:()=>l});var s=i(406029),n=i(455729),o=i(795669),a=i.n(o);let r=(0,n.memo)(({children:e})=>(0,s.jsx)(a(),{children:(0,s.jsx)("title",{children:e},"title")}));r.displayName="BrowserTabTitle";let l=r},509986:(e,t,i)=>{let s;i.d(t,{A:()=>te});var n=i(406029),o=i(571711),a=i.n(o),r=i(455729),l=i(332988),c=i.n(l),d=i(395597),p=i(882453),m=i(664154),y=i(652225),u=i(531977),h=i(951268),g=i(658600),x=i(640716),b=i(631363),A=i(757808),f=i(362420),j=i(724875),v=i(501411),k=i(517838),C=i(591712),I=i(932014);let w=(0,r.createContext)({isLikedByUser:!1,likesCount:0,onItemLike:void 0,onItemUnlike:void 0,showSignInModal:void 0,mostRecentLikeUser:void 0}),_=()=>(0,r.useContext)(w);var S=i(674133),P=i(25706),$=i(108173),N=i(111970),T=i(70017),B=i(35068);let D=new Map([[j.z.Story,"component.itemCard.dropdown.createStoryFromTemplate"]]),L={styles:(0,n.jsx)(a(),{id:"3ba889a57eefbca7",children:`.button.jsx-3ba889a57eefbca7{margin-inline:${p.Ay.spacing.xxxxs}}`}),className:"jsx-3ba889a57eefbca7"},z=()=>{let e=(0,P.ck)(),t=(0,B.A)();return e.isTemplate&&(0,N._E)(e.type)?(0,n.jsx)(T.i,{routeDef:{route:"create",itemType:e.type,template:e.itemId},children:(0,n.jsxs)($.Ay,{type:"primary",className:c()(L.className,"button"),children:[t(D.get(e.type)),L.styles]})}):null};var F=i(605470),M=i(766919),H=i(816385),O=i(476011),U=i(707118),R=i(427942),E=i(798632),V=i(754792),W=i(337139),q=i(539423),K=i(249555),Z=i(852701),Y=i(644152);let G=()=>{let{itemDetails:e}=(0,P.ck)(),[t,i]=(0,r.useState)(),[s,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),{routeTo:p}=(0,q.dA)(),m=(0,B.A)(),y=(0,W.cu)(),u=(0,K.kp)(y),{theme:g}=(0,d.df)(),{supportedLanguages:x,isLoading:b,refetchLanguages:A,isError:f}=(0,Z.X3)(),v=async()=>{if(f){let t=await A();if("string"!=typeof t){let s=t?.find(t=>t.id===e.id);s&&i({id:s.id,culture:s.culture,label:s.label})}}if(!x||b)return void o(!0);let t=x?.find(t=>t.id===e.id);if(!t)throw Error("Selected language not found in configured languages");i({id:t.id,culture:t.culture,label:t.label}),o(!0)},k=()=>{let t=x?.find(t=>t.id===e.id);i({id:t?.id??e.id,culture:t?.culture??e.culture,label:t?.label??e.title}),o(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(H.A,{target:(0,n.jsx)("div",{className:a().dynamic([["f3d8f8c59e28c531",[h.Ay.typography.bodySmall(),g.colors.labelSecondary]]]),children:(0,n.jsx)(d.Pl,{defaultTheme:u,children:(0,n.jsx)(Y.A,{id:"translate-btn",tooltipId:"viewer.languageSettings",icon:(0,n.jsx)(O.A,{path:M.e,size:16}),onClick:v})})}),title:m("viewer.translation.nudge.title"),placement:"bottom",isShowing:l,onClick:()=>{c(!1)}}),(0,n.jsx)(d.Pl,{defaultTheme:"light",children:(0,n.jsxs)(U.A,{headerTitle:m("viewer.languageSettings"),isShowingModal:s,primaryButtonTitle:m("builder.common.save"),onPrimaryButtonClick:()=>{if(f||!t?.id)return void o(!1);p({routeDef:(0,q.WU)({route:"viewer",itemId:t.id,itemType:j.z.Story,isTemplate:!1}),method:"push"}),o(!1)},onSecondaryButtonClick:k,onCloseButtonClick:k,secondaryButtonTitle:m("common.cancel"),closeButtonLabel:m("common.close"),children:[b&&(0,n.jsx)("div",{className:a().dynamic([["f3d8f8c59e28c531",[h.Ay.typography.bodySmall(),g.colors.labelSecondary]]])+" loading",children:(0,n.jsx)(R.A,{size:y.spacing.md})}),(0,n.jsx)(V.K,{messageId:"viewer.languageSettings.error",isError:!b&&f}),x&&t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:a().dynamic([["f3d8f8c59e28c531",[h.Ay.typography.bodySmall(),g.colors.labelSecondary]]]),children:m("viewer.languageSettings.description")}),(0,n.jsx)(E.A,{labelText:m("viewer.languageSettings.label"),options:x.filter(e=>!e.hasDetachedFromSource)?.map(e=>({id:e.id,culture:e.culture,label:e.label})),onChange:e=>{i(x?.find(t=>t.id===e))},selectedOptionId:t.id,currentOptionLabel:t.label,isFullWidth:!0})]})]})}),(0,n.jsx)(a(),{id:"f3d8f8c59e28c531",dynamic:[h.Ay.typography.bodySmall(),g.colors.labelSecondary],children:`.loading.__jsx-style-dynamic-selector{display:flex;justify-content:center;align-items:center;height:100%;width:100%}p.__jsx-style-dynamic-selector{${h.Ay.typography.bodySmall()}
          color: ${g.colors.labelSecondary};margin:0}`})]})};var X=i(390248),J=i(639151),Q=i(470020),ee=i(296354),et=i(574326),ei=i(798395),es=i(662218),en=i(181660),eo=i(306369),ea=i(104355),er=i(698143),el=i(46183),ec=i(354330),ed=i(546125),ep=i(94497);class em extends ep.I{constructor(e){super(e,{iconName:"heart",path:"",viewBox:"0 0 16 16",children:()=>(0,n.jsx)("path",{d:"M8.00047 13.6497L2.19047 7.88975C0.660469 6.35975 0.660469 3.66975 2.19047 2.12975C2.93047 1.37975 3.92047 0.969748 4.96047 0.969748C6.01047 0.969748 6.99047 1.37975 7.74047 2.12975L8.00047 2.39975L8.26047 2.12975C8.62312 1.76083 9.05588 1.46816 9.5333 1.26895C10.0107 1.06974 10.5232 0.968011 11.0405 0.969748C12.0905 0.969748 13.0705 1.37975 13.8105 2.12975C15.3405 3.65975 15.3405 6.34975 13.8105 7.87975L7.99047 13.6397L8.00047 13.6497Z",strokeLinejoin:"round"})})}}var ey=i(307557),eu=i(95206),eh=i(992823),eg=i(22836),ex=i(951358),eb=i(469121);let eA=(0,r.forwardRef)((e,t)=>{let i=(0,B.A)();e.iconPath||e.icon;let s=(0,n.jsxs)(el.A.Item,{isFullWidth:!0,onClick:e.onClick,link:e.link,ref:t,isDisabled:!!e.disabledTooltipId,children:[(0,n.jsxs)("div",{className:a().dynamic([["ba80fa68ae5ee204",[p.Ay.spacing.xs]]])+" menu-item",children:[e.icon,e.iconPath&&(0,n.jsx)(O.A,{size:16,path:e.iconPath,"aria-hidden":!0}),(0,n.jsx)("p",{className:a().dynamic([["ba80fa68ae5ee204",[p.Ay.spacing.xs]]]),children:e.text}),e.appendedUI]}),(0,n.jsx)(a(),{id:"ba80fa68ae5ee204",dynamic:[p.Ay.spacing.xs],children:`.menu-item.__jsx-style-dynamic-selector{display:flex;align-items:center}p.__jsx-style-dynamic-selector{flex-grow:1;margin-inline-start:${p.Ay.spacing.xs}}`})]});return e.disabledTooltipId?(0,n.jsxs)(eb.m_,{children:[(0,n.jsx)(eb.k$,{children:s}),(0,n.jsx)(eb.ZI,{children:i(e.disabledTooltipId)})]}):s});class ef extends r.PureComponent{render(){let e=this.getStartItems(),t=this.getCenterItems(),i=this.getEndItems(),s=e.length>0&&(t.length>0||i.length>0),o=t.length>0&&i.length>0,a=[...e,...s?[(0,n.jsx)(el.A.Divider,{},"start-divider")]:[],...t,...o?[(0,n.jsx)(el.A.Divider,{},"center-divider")]:[],...i];return 0===a.length?null:(0,n.jsxs)(ec.AM,{autoPlacementOptions:{allowedPlacements:[this.props.storyItem.type===j.z.Frame?"top-end":"bottom-end"]},children:[(0,n.jsx)(ec.Wv,{autoARIADescribedByEnabled:!1,autoARIALabelledByEnabled:!1,skipButtonWrapper:!0,children:this.renderTarget()}),(0,n.jsx)(ec.hl,{floatingFocusManagerProps:{initialFocus:1},closeOnClick:!0,children:(0,n.jsx)(el.A,{disabled:"embedded-preview"===this.props.mode,children:a})})]})}get canShowDuplicateOptions(){return this.props.isViewportMinWidth("large")&&(0,ey.bv)({itemDetails:this.props.storyItem.itemDetails,authManager:this.props.authManager})}constructor(...e){super(...e),this.getStartItems=()=>{let e=[];if(this.props.canEdit&&this.props.isViewportMinWidth("large")){let t=this.getEditContent();e.push(t)}return e},this.getCenterItems=()=>{let e=[];if(this.props.storyItem.type===j.z.Frame||this.props.isViewportMaxWidth("small")&&(this.props.storyItem.type===j.z.Story||this.props.storyItem.type===j.z.Collection)){let t=this.getViewLikesContent();t&&e.push(t)}if(this.props.favoriteContent&&e.push(this.props.favoriteContent),this.props.isViewportMinWidth("medium")&&this.props.storyItem.type!==j.z.Frame&&!this.props.shouldHideAutoPlay){let t=this.getAutoplayContent();e.push(t)}if(this.props.isViewportMinWidth("medium")&&(this.props.storyItem.type===j.z.Story||this.props.storyItem.type===j.z.Briefing)){let t=this.getPrintPreviewContent();e.push(t)}if(this.props.storyItem.type===j.z.Collection&&"string"==typeof this.props.itemHref){let t=this.getOpenItemContent(this.props.itemHref);e.push(t)}if(this.props.onEmbedClicked){let t=this.getEmbedContent();e.push(t)}if(this.props.featureDecisions.canReportAbuse){let t=this.getReportAbuseContent();t&&e.push(t)}return e},this.getEndItems=()=>{let e=[],t=this.getDuplicateItemContent(),i=this.getDuplicateAsTemplateContent();return t&&e.push(t),i&&e.push(i),e},this.renderTarget=()=>(0,n.jsx)(Y.A,{id:"context-menu-btn",tooltipId:"common.moreActions",icon:(0,n.jsx)(O.A,{path:Q.r,size:16,"aria-hidden":!0}),isRenderedInFrameOrBriefing:this.props.storyItem.type===j.z.Briefing}),this.getEditContent=()=>{let{storyItem:e}=this.props;return(0,n.jsx)(T.i,{routeDef:(0,q.WU)({route:"builder",itemType:e.type,itemId:e.itemId,isTemplate:e.isTemplate}),children:(0,n.jsx)(eA,{text:(0,n.jsx)(X.A,{id:this.props.storyItem.isTemplate?"component.viewerHeader.edit.template":this.props.storyItem.type===j.z.Story?"component.viewerHeader.edit":this.props.storyItem.type===j.z.Collection?"component.myCollections.builder.edit":this.props.storyItem.type===j.z.Frame?"component.viewerHeader.edit.frame":"component.viewerHeader.edit.briefing"}),appendedUI:this.props.publishIndicator&&(0,n.jsx)("div",{className:"indicator-container",children:this.props.publishIndicator}),iconPath:ee.$})},"edit")},this.getDuplicateItemContent=()=>{if(!this.canShowDuplicateOptions||!this.props.onDuplicateClicked)return null;let e=(0,ey.Bj)({itemDetails:this.props.storyItem.itemDetails,authManager:this.props.authManager,storyMapUserPrivileges:this.props.storyMapUserPrivileges});return(0,n.jsx)(eA,{onClick:this.props.onDuplicateClicked,iconPath:et.h,text:(0,n.jsx)(X.A,{id:this.props.storyItem.isTemplate?"component.builderHeader.duplicateItem.template.dropdown":({[j.z.Story]:"component.builderHeader.duplicateItem.story.dropdown",[j.z.Briefing]:"component.builderHeader.duplicateItem.briefing.dropdown",[j.z.Collection]:"component.builderHeader.duplicateItem.collection.dropdown",[j.z.Frame]:"component.builderHeader.duplicateItem.frame.dropdown",[j.z.Theme]:"component.builderHeader.duplicateItem.theme.dropdown"})[this.props.storyItem.type]}),disabledTooltipId:e?void 0:"publicAccount.disabled"},"duplicate-viewer")},this.getDuplicateAsTemplateContent=()=>{let e=this.props.storyItem.type;if(!this.canShowDuplicateOptions||!this.props.featureDecisions.canUseTemplates||this.props.storyItem.isTemplate||!(0,N._E)(e))return null;let t={route:"create-template",itemType:e,template:this.props.storyItem.itemId};return(0,n.jsx)(T.i,{routeDef:t,children:(0,n.jsx)(eA,{link:{href:this.props.storyRouting.getUrlFromRouteDef(t),openInNewPage:!1},iconPath:ei.I,text:(0,n.jsx)(X.A,{id:"builder.common.duplicateAsTemplate"}),disabledTooltipId:this.props.storyMapUserPrivileges.canCreateTemplate&&(0,ey.Bj)({itemDetails:this.props.storyItem.itemDetails,authManager:this.props.authManager,storyMapUserPrivileges:this.props.storyMapUserPrivileges})?void 0:"publicAccount.disabled"})},"duplicate-as-template")},this.getEmbedContent=()=>{let e=(0,K.yJ)(this.props.storyItem.type);return(0,n.jsx)(eA,{iconPath:es.n,text:(0,n.jsx)(X.A,{id:e}),onClick:this.onEmbedClicked},"embed-story")},this.getOpenItemContent=e=>(0,n.jsx)(eA,{iconPath:en.N,text:(0,n.jsx)(X.A,{id:"builder.common.openNewTab"}),link:{href:e,openInNewPage:!0}},"open-item-in-new-tab"),this.onClickAutoplay=()=>{let e=this.props.storyItem.type===j.z.Collection?eu.A.Name.Viewer_Autoplay_Collection:this.props.storyItem.type===j.z.Story?eu.A.Name.Viewer_Autoplay_Story:eu.A.Name.Viewer_Autoplay_Briefing;eu.A.trackEvent(eu.A.Category.Viewer,eu.A.Action.Viewer_Autoplay,e),this.props.enableAutoplay()},this.getAutoplayContent=()=>this.props.isAutoplayEnabled?(0,n.jsx)(eA,{onClick:this.props.disableAutoplay,iconPath:eo.e,text:(0,n.jsx)(X.A,{id:"component.viewerHeader.storySettings.disable.autoplay"})},"disable-autoplay"):(0,n.jsx)(eA,{onClick:this.onClickAutoplay,iconPath:eo.e,text:(0,n.jsx)(X.A,{id:"component.viewerHeader.storySettings.enable.autoplay"})},"enable-autoplay"),this.getPrintPreviewContent=()=>(0,n.jsx)(eA,{onClick:this.onRequestPrint,iconPath:ea.S,text:(0,n.jsx)(X.A,{id:"common.printPreview"}),appendedUI:(0,n.jsx)(ed.WU,{tooltip:this.props.intl.formatMessage({id:"common.printPreview.tooltip"}),dimension:"small"})},"print-preview"),this.onRequestPrint=()=>{(this.props.storyItem.type===j.z.Story||this.props.storyItem.type===j.z.Briefing)&&(window.location.href=this.props.storyRouting.getUrlFromRouteDef((0,q.WU)({route:"print",printMode:"view"===this.props.mode?"published":"preview",itemType:this.props.storyItem.type,itemId:this.props.storyItem.itemId,isTemplate:this.props.storyItem.isTemplate})))},this.getReportAbuseContent=()=>{let e=(0,eh.Ni)({getUrlFromRouteDef:this.props.storyRouting.getUrlFromRouteDef});if(e)return(0,n.jsx)(eA,{iconPath:er.w,text:(0,n.jsx)(X.A,{id:"component.viewerHeader.storySettings.reportAbuse"}),link:{href:e,openInNewPage:!0}},"report-abuse")},this.getViewLikesContent=()=>{if(0!==this.props.likesCount)return(0,n.jsx)(eA,{icon:(0,n.jsx)(em,{width:p.Ay.spacing.xxs,height:p.Ay.spacing.xxs,fill:"transparent",stroke:"currentColor","aria-hidden":!0}),text:(0,n.jsx)(X.A,{id:"component.frameActionBar.contextMenu.viewLikes"}),onClick:this.props.showLikesModal},"view-likes")},this.onEmbedClicked=()=>{this.props.onEmbedClicked?.()}}}let ej=(0,q.PX)((0,y.S9)((0,x.Fo)((0,ex.Lr)((s=(0,eg.A)((0,J.Ay)((0,u.hB)(ef))),e=>(0,n.jsx)(w.Consumer,{children:t=>(0,n.jsx)(s,{...e,...t})}))))));var ev=i(812364),ek=i.n(ev),eC=i(988214),eI=i(627765);let ew=e=>{let{addStringId:t,removeStringId:i,filledIconPath:s,unfilledIconPath:o}=(0,eC.w)(),{isFavorite:a,onItemFavorite:l,onItemUnfavorite:c,showSignInModal:d}=(0,eI.nm)(),{authManager:p}=(0,u.Py)(),m=(0,r.useMemo)(()=>ek()(()=>{p?a?c():l():d?.()},500),[p,a,l,c,d]);return(0,n.jsx)(Y.A,{id:"fav-btn",tooltipId:a?i:t,onClick:m,icon:(0,n.jsx)(O.A,{path:a?s:o,size:16}),isRenderedInlineInStory:e.isRenderedInlineInStory,isRenderedInFrameOrBriefing:e.isRenderedInFrameOrBriefing})},e_=()=>{let{addStringId:e,removeStringId:t,filledIconPath:i,unfilledIconPath:s}=(0,eC.w)(),{isFavorite:o,onItemFavorite:a,onItemUnfavorite:l,showSignInModal:c}=(0,eI.nm)(),{authManager:d}=(0,u.Py)(),p=(0,r.useMemo)(()=>ek()(()=>{d?o?l():a():c?.()},500),[d,o,a,l,c]);return(0,n.jsx)(eA,{onClick:p,iconPath:o?i:s,text:(0,n.jsx)(X.A,{id:o?t:e})})};var eS=i(343740);let eP=({onFrameRestartClick:e})=>(0,n.jsx)(Y.A,{id:"frame-reset-btn",tooltipId:"component.frames.viewer.action.reset",onClick:()=>{eu.A.trackEvent(eu.A.Category.Viewer,eu.A.Action.Frames_Restart,j.z.Frame),e(!0)},icon:(0,n.jsx)(O.A,{size:16,path:eS.v})});var e$=i(890510),eN=i(888782),eT=i(364537),eB=i(244835);let eD=({isRenderedInline:e,isRenderedInNativeApp:t,itemOwner:i})=>{let{authManager:s}=(0,u.Py)(),o=(0,B.A)(),{isLikedByUser:r,likesCount:l,showSignInModal:m,showLikesModal:y,mostRecentLikeUser:g}=_(),x=(0,W.cu)(),{theme:b}=(0,d.df)(),{BASE_URL:A}=(0,eT.UK)(),f=(0,eN.st)(),j=!!s,{foregroundColor:v}=(0,eB.G)({themeVariables:x,websiteTheme:b,flavor:e?"story":void 0}),k=g?.fullName??"",C={route:"profile",profileSlug:g?.udn??""},I=j&&l>0&&k&&!r,w=s?.username===i&&0===l,S=()=>j?y?.():m?.(),{stringId:P,count:$}=(()=>{if(!e)return{stringId:1===l?"viewer.likeCount.oneLike":"viewer.likeCount.xLikes",count:l};if(j){let e=(()=>{switch(l){case 0:return{count:l,likedByUser:"viewer.like.signInModal.noOneHasLikedThisItemYet",notLikedByUser:"viewer.like.signInModal.noOneHasLikedThisItemYet"};case 1:return{count:l,likedByUser:"viewer.authenticated.likeCount.youLikedThisItem",notLikedByUser:"viewer.authenticated.likeCount.onePersonLikedThisItem"};case 2:return{count:l-1,likedByUser:"viewer.authenticated.likeCount.youAndOneOtherLikedThisItem",notLikedByUser:"viewer.authenticated.likeCount.personAndOneOtherLikedThisItem"};default:return{count:l-1,likedByUser:"viewer.authenticated.likeCount.youAndXOthersLikedThisItem",notLikedByUser:"viewer.authenticated.likeCount.personAndXOthersLikedThisItem"}}})();return{stringId:r?e.likedByUser:e.notLikedByUser,count:e.count}}return{stringId:(()=>{switch(l){case 0:return"viewer.like.signInModal.noOneHasLikedThisItemYet";case 1:return"viewer.unauthenticated.likeCount.onePersonLikedThisItem";default:return"viewer.unauthenticated.likeCount.xPeopleLikedThisItem"}})(),count:l}})();return(0,n.jsxs)(n.Fragment,{children:[e?(0,n.jsxs)("div",{className:a().dynamic([["ceec8bbd2f36fb06",[v,h.Ay.typography.labelSmall(),x.bodyColor,h.Ay.typography.caption(),p.Ay.spacing.xxxs,p.Ay.spacing.xxxxs,p.Ay.font.weight.medium,p.Ay.spacing.xxs,p.Ay.spacing.xxs,p.Ay.spacing.xxxs]]])+" "+(c()("inline-message",{"has-avatar":I})||""),children:[I&&!t&&(0,n.jsx)(T.i,{routeDef:C,children:(0,n.jsx)("a",{...f.getDataAttributes({name:"Inline likes message",content:"Author profile"}),className:a().dynamic([["ceec8bbd2f36fb06",[v,h.Ay.typography.labelSmall(),x.bodyColor,h.Ay.typography.caption(),p.Ay.spacing.xxxs,p.Ay.spacing.xxxxs,p.Ay.font.weight.medium,p.Ay.spacing.xxs,p.Ay.spacing.xxs,p.Ay.spacing.xxxs]]]),children:(0,n.jsx)("img",{src:g?.thumbnailUrl||`${A}/static/images/blank-avatar.svg`,alt:o("viewer.likesModal.userThumbnail.alt",{fullName:k}),className:a().dynamic([["ceec8bbd2f36fb06",[v,h.Ay.typography.labelSmall(),x.bodyColor,h.Ay.typography.caption(),p.Ay.spacing.xxxs,p.Ay.spacing.xxxxs,p.Ay.font.weight.medium,p.Ay.spacing.xxs,p.Ay.spacing.xxs,p.Ay.spacing.xxxs]]])})})}),I&&t&&(0,n.jsx)("img",{src:g?.thumbnailUrl||`${A}/static/images/blank-avatar.svg`,alt:o("viewer.likesModal.userThumbnail.alt",{fullName:k}),className:a().dynamic([["ceec8bbd2f36fb06",[v,h.Ay.typography.labelSmall(),x.bodyColor,h.Ay.typography.caption(),p.Ay.spacing.xxxs,p.Ay.spacing.xxxxs,p.Ay.font.weight.medium,p.Ay.spacing.xxs,p.Ay.spacing.xxs,p.Ay.spacing.xxxs]]])}),!w&&(0,n.jsx)("span",{className:a().dynamic([["ceec8bbd2f36fb06",[v,h.Ay.typography.labelSmall(),x.bodyColor,h.Ay.typography.caption(),p.Ay.spacing.xxxs,p.Ay.spacing.xxxxs,p.Ay.font.weight.medium,p.Ay.spacing.xxs,p.Ay.spacing.xxs,p.Ay.spacing.xxxs]]]),children:o(P,{strong:e=>(0,n.jsx)("strong",{className:a().dynamic([["ceec8bbd2f36fb06",[v,h.Ay.typography.labelSmall(),x.bodyColor,h.Ay.typography.caption(),p.Ay.spacing.xxxs,p.Ay.spacing.xxxxs,p.Ay.font.weight.medium,p.Ay.spacing.xxs,p.Ay.spacing.xxs,p.Ay.spacing.xxxs]]]),children:e}),link:e=>t?e:(0,n.jsx)(T.i,{routeDef:C,children:(0,n.jsx)("a",{...f.getDataAttributes({name:"Inline likes message",content:"Author profile"}),className:a().dynamic([["ceec8bbd2f36fb06",[v,h.Ay.typography.labelSmall(),x.bodyColor,h.Ay.typography.caption(),p.Ay.spacing.xxxs,p.Ay.spacing.xxxxs,p.Ay.font.weight.medium,p.Ay.spacing.xxs,p.Ay.spacing.xxs,p.Ay.spacing.xxxs]]]),children:e})}),modal:e=>t?e:(0,n.jsx)("button",{onClick:S,...f.getDataAttributes({name:"Number of likes - story inline",content:j?"Likes modal":"Sign in modal"}),className:a().dynamic([["ceec8bbd2f36fb06",[v,h.Ay.typography.labelSmall(),x.bodyColor,h.Ay.typography.caption(),p.Ay.spacing.xxxs,p.Ay.spacing.xxxxs,p.Ay.font.weight.medium,p.Ay.spacing.xxs,p.Ay.spacing.xxs,p.Ay.spacing.xxxs]]]),children:e}),number:(0,n.jsx)(e$.Gr,{value:$}),fullName:k})})]}):(0,n.jsx)("button",{onClick:S,...f.getDataAttributes({name:"Number of likes - viewer header",content:j?"Likes modal":"Sign in modal"}),className:a().dynamic([["ceec8bbd2f36fb06",[v,h.Ay.typography.labelSmall(),x.bodyColor,h.Ay.typography.caption(),p.Ay.spacing.xxxs,p.Ay.spacing.xxxxs,p.Ay.font.weight.medium,p.Ay.spacing.xxs,p.Ay.spacing.xxs,p.Ay.spacing.xxxs]]])+" header-message",children:o(P,{number:(0,n.jsx)(e$.Gr,{value:$})})}),(0,n.jsx)(a(),{id:"ceec8bbd2f36fb06",dynamic:[v,h.Ay.typography.labelSmall(),x.bodyColor,h.Ay.typography.caption(),p.Ay.spacing.xxxs,p.Ay.spacing.xxxxs,p.Ay.font.weight.medium,p.Ay.spacing.xxs,p.Ay.spacing.xxs,p.Ay.spacing.xxxs],children:`.header-message.__jsx-style-dynamic-selector{color:${v};${h.Ay.typography.labelSmall()}}.inline-message.__jsx-style-dynamic-selector,.inline-message.__jsx-style-dynamic-selector a.__jsx-style-dynamic-selector{color:${x.bodyColor}}.inline-message.__jsx-style-dynamic-selector{${h.Ay.typography.caption()}
          display: flex;align-items:center;justify-content:center;margin:${p.Ay.spacing.xxxs}}.inline-message.has-avatar.__jsx-style-dynamic-selector{margin:${p.Ay.spacing.xxxxs}}strong.__jsx-style-dynamic-selector{font-weight:${p.Ay.font.weight.medium}}a.__jsx-style-dynamic-selector{text-decoration:none}.__jsx-style-dynamic-selector:is(a,button):is(:hover,:focus){text-decoration:underline}img.__jsx-style-dynamic-selector{width:${p.Ay.spacing.xxs};height:${p.Ay.spacing.xxs};border-radius:50%;object-fit:contain;margin:${p.Ay.spacing.xxxs};display:block}`})]})},eL=({isRenderedInlineInStory:e,isRenderedInFrameOrBriefing:t,itemOwner:i,className:s})=>{let{authManager:o}=(0,u.Py)(),{isLikedByUser:l,likesCount:d,onItemLike:m,onItemUnlike:g,showSignInModal:x}=_(),{isViewportMaxWidth:b}=(0,y.Ye)(),A=d>0,f=b("small"),j=A&&(t||f&&!e);(0,r.useEffect)(()=>()=>{I.cancel()},[]);let v=!!o,k=p.Ay.spacing.xxs,C=l?"viewer.unlike.tooltip":"viewer.like.tooltip",I=(0,r.useMemo)(()=>ek()(()=>{v?l?g?.():m?.():x?.()},500),[l,v,m,g,x]),w=()=>(0,n.jsx)(em,{width:k,height:k,stroke:"currentColor",fill:l?"#E54867":"transparent","aria-hidden":!0});return(0,n.jsxs)("div",{className:a().dynamic([["c5d394b8beb60bb3",[p.Ay.spacing.custom("1.2rem")]]])+" "+(c()("like-details-container",s)||""),children:[(0,n.jsx)(Y.A,{id:"like-btn",tooltipId:C,onClick:I,icon:j?(0,n.jsxs)("div",{className:a().dynamic([["2b78c05ec43b97be",[p.Ay.spacing.xxxxs,h.Ay.typography.labelLarge({skip:["line-height"]})]]])+" like-heart-icon",children:[w(),(0,n.jsx)("p",{className:a().dynamic([["2b78c05ec43b97be",[p.Ay.spacing.xxxxs,h.Ay.typography.labelLarge({skip:["line-height"]})]]])+" like-count",children:(0,n.jsx)(e$.Gr,{value:d})}),(0,n.jsx)(a(),{id:"2b78c05ec43b97be",dynamic:[p.Ay.spacing.xxxxs,h.Ay.typography.labelLarge({skip:["line-height"]})],children:`.like-heart-icon.__jsx-style-dynamic-selector{display:flex;align-items:center;gap:${p.Ay.spacing.xxxxs}}.like-count.__jsx-style-dynamic-selector{${h.Ay.typography.labelLarge({skip:["line-height"]})}
        }`})]}):w(),isRenderedInlineInStory:e,isRenderedInFrameOrBriefing:t,isDisabled:o?.username===i,disabledTooltipId:"viewer.like.disabled.tooltip"}),A&&!t&&!f&&!e&&(0,n.jsx)("div",{className:a().dynamic([["c5d394b8beb60bb3",[p.Ay.spacing.custom("1.2rem")]]])+" expanded-count",children:(0,n.jsx)(eD,{isRenderedInline:!1,itemOwner:i})}),(0,n.jsx)(a(),{id:"c5d394b8beb60bb3",dynamic:[p.Ay.spacing.custom("1.2rem")],children:`.like-details-container.__jsx-style-dynamic-selector{display:flex;align-items:center}.expanded-count.__jsx-style-dynamic-selector{margin-inline-end:${p.Ay.spacing.custom("1.2rem")}}`})]})};var ez=i(740179),eF=i(325849),eM=i(866164),eH=i(271543),eO=i(899110),eU=i(383028),eR=i(177350),eE=i(515401),eV=i(616053),eW=i(58230),eq=i(547757),eK=i(792579),eZ=i(803155);function eY(e){return(0,n.jsxs)("div",{className:a().dynamic([["5593cfaab4bccdc0",[e.background,p.Ay.spacing.xxxs]]])+" copy-link-container",children:[(0,n.jsx)(O.A,{path:e.path,size:32,fill:e.fill}),(0,n.jsx)(a(),{id:"5593cfaab4bccdc0",dynamic:[e.background,p.Ay.spacing.xxxs],children:`.copy-link-container.__jsx-style-dynamic-selector{background:${e.background};border-radius:50%;padding:${p.Ay.spacing.xxxs}}`})]})}function eG(e){let{appTitle:t,itemUrl:i,onCopyLink:s}=e,[o,l]=(0,r.useState)(!1),c=(0,B.A)(),m=(0,P.ck)(),{theme:y,productVariables:u}=(0,d.df)(),{TWITTER_HANDLE:g,TWITTER_HASHTAGS:x}=(0,eT.UK)(),b=`calc(2 * ${p.Ay.spacing.xs})`,A=[{key:"copy-link",icon:(0,n.jsx)(eY,{fill:y.colors.labelPrimary,path:eE.a,background:u.colors.link200}),onClick:()=>s(),title:c("common.copyLink")},...m.type===j.z.Briefing?[{key:"copy-slide-link",icon:(0,n.jsx)(eY,{fill:y.colors.labelPrimary,path:eV.k,background:y.colors.surfaceDefaultStrong}),onClick:()=>s(!0),title:c("common.copyLinkToSlide")}]:[],{key:"facebook",icon:(0,n.jsx)(eq.j,{...(0,eH.MH)(b)}),onClick:()=>(0,eU._i)(i),title:c("common.facebook")},{key:"x",icon:(0,n.jsx)(eZ.k,{...(0,eH.MH)(b)}),onClick:()=>(0,eU.b3)({appTitle:t,itemUrl:i,handle:g,hashtags:x}),title:"X"},{key:"linkedin",icon:(0,n.jsx)(eK.$,{...(0,eH.MH)(b)}),onClick:()=>(0,eU.Of)(),title:c("common.linkedIn")}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:a().dynamic([["3860dcc3c9a4a961",[h.Ay.center("column"),p.Ay.spacing.xxxs,y.colors.labelSecondary,h.Ay.typography.caption(),h.Ay.center("row"),p.Ay.spacing.xxs,p.Ay.spacing.sm,h.Ay.center("column"),p.Ay.spacing.xxxs,p.Ay.spacing.xxl]]])+" sharing-container",children:A.map(({key:e,icon:t,title:i,onClick:s})=>(0,n.jsxs)("button",{onClick:s,className:a().dynamic([["3860dcc3c9a4a961",[h.Ay.center("column"),p.Ay.spacing.xxxs,y.colors.labelSecondary,h.Ay.typography.caption(),h.Ay.center("row"),p.Ay.spacing.xxs,p.Ay.spacing.sm,h.Ay.center("column"),p.Ay.spacing.xxxs,p.Ay.spacing.xxl]]])+" sharing-option",children:[t,i]},e))}),(0,n.jsxs)("div",{className:a().dynamic([["3860dcc3c9a4a961",[h.Ay.center("column"),p.Ay.spacing.xxxs,y.colors.labelSecondary,h.Ay.typography.caption(),h.Ay.center("row"),p.Ay.spacing.xxs,p.Ay.spacing.sm,h.Ay.center("column"),p.Ay.spacing.xxxs,p.Ay.spacing.xxl]]])+" container",children:[(0,n.jsx)("p",{className:a().dynamic([["3860dcc3c9a4a961",[h.Ay.center("column"),p.Ay.spacing.xxxs,y.colors.labelSecondary,h.Ay.typography.caption(),h.Ay.center("row"),p.Ay.spacing.xxs,p.Ay.spacing.sm,h.Ay.center("column"),p.Ay.spacing.xxxs,p.Ay.spacing.xxl]]]),children:c("component.socialSharing.qrCode.description")}),!o&&(0,n.jsx)(eW.r,{data:i,size:130,onError:()=>l(!0)})]}),(0,n.jsx)(a(),{id:"3860dcc3c9a4a961",dynamic:[h.Ay.center("column"),p.Ay.spacing.xxxs,y.colors.labelSecondary,h.Ay.typography.caption(),h.Ay.center("row"),p.Ay.spacing.xxs,p.Ay.spacing.sm,h.Ay.center("column"),p.Ay.spacing.xxxs,p.Ay.spacing.xxl],children:`.container.__jsx-style-dynamic-selector{${h.Ay.center("column")}
          gap: ${p.Ay.spacing.xxxs};align-items:start;color:${y.colors.labelSecondary};${h.Ay.typography.caption()}}.sharing-container.__jsx-style-dynamic-selector{${h.Ay.center("row")}
          align-items: start;justify-content:start;gap:${p.Ay.spacing.xxs};margin-bottom:${p.Ay.spacing.sm}}.sharing-option.__jsx-style-dynamic-selector{${h.Ay.center("column")}
          gap: ${p.Ay.spacing.xxxs};width:${p.Ay.spacing.xxl}}`})]})}function eX(e){let{activeNodeId:t,appTitle:i,isShowing:s,onClose:o,itemUrl:a}=e,[l,c]=(0,r.useState)(),{toast:d}=(0,eF.dj)(),{isPortal:p}=(0,eO.EN)(),m=(0,P.ck)(),y=(0,B.A)();async function u(e){return e&&t?await (0,eU.L$)({longUrl:`${a}#ref-${t}`,shouldUseShortUrl:!1}):l||await (0,eH.Sc)(a,p)}async function h(e){let t=await u(e);await (0,eU.eE)({url:t||a,toast:d,itemType:m.type})}(0,r.useEffect)(()=>{(async()=>{l||c(await (0,eH.Sc)(a,p))})()},[s,l]);let g=[{id:"share",title:y("common.shareItem"),modalProperties:[{id:"share-options",customComponent:(0,n.jsx)(eG,{appTitle:i,itemUrl:a,onCopyLink:h})}]},{id:"embed",title:y("builder.common.embed"),modalProperties:[{id:"embed-options",customComponent:(0,n.jsx)(eR.C,{})}]}];return(0,n.jsx)(eM.A,{isShowingModal:s,mediaTitle:y("component.socialSharing.modal.title"),tabs:g,onConfirm:o,onDiscard:o,isSaveDisabled:!1,saveButtonContent:y("common.done")})}let eJ=function(e){let[t,i]=(0,r.useState)(!1),s=(0,P.ck)(),{getUrlFromRouteDef:o}=(0,q.dA)(),a=(0,r.useMemo)(()=>o((0,q.WU)({route:"viewer",itemType:s.type,itemId:s.itemId,isTemplate:s.isTemplate})),[s]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Y.A,{id:"social-sharing-btn",tooltipId:"common.shareItem",icon:(0,n.jsx)(O.A,{path:ez.c,size:16}),isDisabled:e.isDisabled,isRenderedInlineInStory:e.isRenderedInlineInStory,isRenderedInFrameOrBriefing:e.isRenderedInFrameOrBriefing,onClick:()=>i(!0)}),(0,n.jsx)(eX,{activeNodeId:e.getActiveNodeId?.(),appTitle:e.appTitle,isShowing:t,onClose:()=>i(!1),itemUrl:a})]})};var eQ=i(947),e0=i(415997),e9=i(684575);let e5=e=>{let[t,i]=(0,r.useState)(),s=(0,B.A)(),{theme:o}=(0,d.df)(),{translateContentIntoLocale:l,submitTranslationFeedback:c}=(0,I.Ut)(),m=!t||0===t.localeCompare(e.locale,"en-US",{sensitivity:"base"});return(0,n.jsxs)(U.A,{headerTitle:s("component.languageModal.title"),isShowingModal:e.isOpen,primaryButtonTitle:s("builder.common.save"),secondaryButtonTitle:s("common.close"),onPrimaryButtonClick:()=>{e.onClose(),t&&l(t)},isPrimaryButtonDisabled:m,onSecondaryButtonClick:e.onClose,onCloseButtonClick:e.onClose,closeButtonLabel:s("common.close"),children:[(0,n.jsxs)("fieldset",{className:a().dynamic([["9537a95ac01764db",[h.Ay.overflowWrap({shouldApplyWordBreak:!0}),o.colors.labelSecondary,p.Ay.spacing.xxs,h.Ay.typography.bodyLarge(),h.Ay.typography.labelLarge(),p.Ay.spacing.xxs,o.colors.labelLink]]]),children:[(0,n.jsx)("legend",{className:a().dynamic([["9537a95ac01764db",[h.Ay.overflowWrap({shouldApplyWordBreak:!0}),o.colors.labelSecondary,p.Ay.spacing.xxs,h.Ay.typography.bodyLarge(),h.Ay.typography.labelLarge(),p.Ay.spacing.xxs,o.colors.labelLink]]]),children:s("component.languageModal.description")}),(0,n.jsx)(e9.A,{languages:e.languages,locale:e.locale,onLocaleChange:i}),(0,n.jsx)("button",{onClick:()=>{e.onClose(),c()},className:a().dynamic([["9537a95ac01764db",[h.Ay.overflowWrap({shouldApplyWordBreak:!0}),o.colors.labelSecondary,p.Ay.spacing.xxs,h.Ay.typography.bodyLarge(),h.Ay.typography.labelLarge(),p.Ay.spacing.xxs,o.colors.labelLink]]])+" feedback-button",children:s("common.translationFeedback")})]}),(0,n.jsx)(a(),{id:"9537a95ac01764db",dynamic:[h.Ay.overflowWrap({shouldApplyWordBreak:!0}),o.colors.labelSecondary,p.Ay.spacing.xxs,h.Ay.typography.bodyLarge(),h.Ay.typography.labelLarge(),p.Ay.spacing.xxs,o.colors.labelLink],children:`fieldset.__jsx-style-dynamic-selector{min-width:0;${h.Ay.overflowWrap({shouldApplyWordBreak:!0})}}legend.__jsx-style-dynamic-selector{color:${o.colors.labelSecondary};margin-bottom:${p.Ay.spacing.xxs};${h.Ay.typography.bodyLarge()}}.feedback-button.__jsx-style-dynamic-selector{display:block;${h.Ay.typography.labelLarge()}
          margin-top: ${p.Ay.spacing.xxs};color:${o.colors.labelLink}}`})]})},e3=e=>(0,n.jsx)(d.Pl,{defaultTheme:"light",children:(0,n.jsx)(e5,{...e})});var e6=i(657764),e1=i(519622);let e2="viewer-translation",e4="dismissed-nudge",e8=e=>{let{availableTranslationLocales:t,originalLanguageCode:i}=e,[s,o]=(0,r.useState)(!1),a=(0,B.A)(),l=(0,W.cu)(),c=(0,K.kp)(l),{locale:p}=(0,eQ.A)(),m=(0,S.T9)({supportedLocales:t}),{isTranslationNudgeVisible:y,dismissTranslationNudge:u}=(()=>{let[e,t]=(0,r.useState)(!1),i=(0,r.useCallback)(()=>{(0,e1.ZB)({name:e2,id:e4,value:!0}),t(!1)},[]);return(0,r.useEffect)(()=>{(0,e1.Lg)({name:e2,id:e4})||t(!0)},[]),{isTranslationNudgeVisible:e,dismissTranslationNudge:i}})();return(e=>{let{originalLanguageCode:t,availableTranslationLocales:i}=e,s=(0,r.useRef)(!1),o=(0,B.A)(),{theme:a}=(0,d.df)(),{toast:l}=(0,eF.dj)(),{currentLanguageInfo:c,allSupportedLanguages:p}=(0,I.Ut)();(0,r.useEffect)(()=>{!s.current&&c&&i.includes(c.culture.toLocaleLowerCase("en-US"))&&(0,b.KN)(c.culture,p)!==t&&(l.add({title:o("viewer.translation.toast.machineTranslate",{languageName:c.localizedName}),type:"success",icon:(0,n.jsx)(O.A,{path:e6.v,size:24,fill:a.colors.labelLink})}),s.current=!0)},[l,o,c,i,p,t,a.colors.labelLink])})({originalLanguageCode:i,availableTranslationLocales:t}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(H.A,{target:(0,n.jsx)("div",{children:(0,n.jsx)(d.Pl,{defaultTheme:c,children:(0,n.jsx)(Y.A,{id:"translate-btn",tooltipId:"viewer.translation.tooltip",icon:(0,n.jsx)(O.A,{path:e0.M,size:16}),onClick:()=>o(!0)})})}),title:a("viewer.translation.nudge.title"),placement:"bottom",isShowing:y,onClick:u}),m&&(0,n.jsx)(e3,{locale:p,languages:m,isOpen:s,onClose:()=>o(!1)})]})},e7=()=>{let e=(0,d.df)();return(0,n.jsx)("div",{className:a().dynamic([["efd51a175567ca03",[p.Ay.spacing.custom("0.1rem"),e.theme.colors.outlineSubduedDefault,p.Ay.spacing.sm]]])+" divider",children:(0,n.jsx)(a(),{id:"efd51a175567ca03",dynamic:[p.Ay.spacing.custom("0.1rem"),e.theme.colors.outlineSubduedDefault,p.Ay.spacing.sm],children:`.divider.__jsx-style-dynamic-selector{width:${p.Ay.spacing.custom("0.1rem")};background-color:${e.theme.colors.outlineSubduedDefault};height:${p.Ay.spacing.sm}}`})})},te=({storyId:e,sharingLevel:t,canEdit:i=!1,areSocialIconsHidden:s,isContextMenuHidden:o=!1,shouldAlwaysShowFavoriteButton:l,storyType:w,mode:$,isRenderedInlineInStory:N,isRenderedInFrameOrBriefing:T,canShowLikeButton:B=!0,isRenderedInNativeApp:D,...L})=>{let[M,H]=(0,r.useState)(!1),[O,U]=(0,m.A)(!1),R=(0,x.bR)(),{isViewportMinWidth:E,isViewportMaxWidth:V}=(0,y.Ye)(),{authManager:W}=(0,u.Py)(),{onItemLike:q,onItemUnlike:K}=_(),Z=(0,P.ck)(),{allSupportedLanguages:Y}=(0,I.Ut)(),X=Z.getOriginalStoryLocale(),J=(0,b.KN)(X,Y),Q=(0,r.useMemo)(()=>[X,...Z.getSupportedTranslationLocales()],[Z,X]),ee=(0,S.T9)({supportedLocales:Q}),et=(0,A.nq)(),ei=t.access===f.uQ.PUBLIC,es=t.isUnlisted,en=(W||R.canShowItemActionsWhenSignedOut)&&void 0!==$&&"preview"!==$&&"embedded-preview"!==$,eo=!s&&ei&&Z.type!==j.z.Frame,ea=()=>H(e=>!e),er=Z.isTemplate&&E("large"),el=(!o&&E("small")||l)&&!et&&en,ec=R.canShareSocially&&"embedded-preview"!==$&&"preview"!==$&&!s&&ei&&(E("large")||Z.type===j.z.Frame),ed=Z.type===j.z.Story&&!N&&R.canTranslateViewerItems&&ee&&ee.length>0&&Q.length>1&&"view"===$,ep=Z.type===j.z.Story&&!N&&"view"===$&&(0,v.Y)({typeKeywords:Z.itemDetails.typeKeywords,typeKeywordId:g.cC.hasTranslation}),em=!o&&!et&&"preview"!==$,ey=el||ec||ed||ep||em,eu=B&&ei&&!es&&(W?"function"==typeof q&&"function"==typeof K:R.canShowItemActionsWhenSignedOut),eh=eu&&ey&&!N&&!T&&!V("small"),eg=Z.type===j.z.Frame,ex={styles:(0,n.jsx)(a(),{id:"4b552ea0ae16937a",dynamic:[p.Ay.spacing.xxxxs],children:`.indicator-container.__jsx-style-dynamic-selector{margin:${p.Ay.spacing.xxxxs}}`}),className:a().dynamic([["4b552ea0ae16937a",[p.Ay.spacing.xxxxs]]])},eb=ey&&(0,n.jsxs)(n.Fragment,{children:[er&&(0,n.jsx)(z,{}),el&&!D&&(0,n.jsx)(ew,{isRenderedInlineInStory:N,isRenderedInFrameOrBriefing:T}),ec&&!D&&(0,n.jsx)(eJ,{appTitle:L.title,isRenderedInlineInStory:N,isRenderedInFrameOrBriefing:T,getActiveNodeId:L.getActiveNodeId}),ed&&!D&&(0,n.jsx)(e8,{originalLanguageCode:J,availableTranslationLocales:Q}),ep&&(0,n.jsx)(G,{}),em&&!D&&(0,n.jsx)(ej,{favoriteContent:en&&w!==j.z.Frame&&!E("small")&&(0,n.jsx)(e_,{},"add-remove-favorite")||void 0,canEdit:!!i,publishIndicator:(0,n.jsx)(C.h,{sharingLevel:t,mode:L.publishStatus,variant:"indicator",indicatorClassName:c()("indicator-container",ex.className)}),onEmbedClicked:eo?ea:void 0,onDuplicateClicked:U,mode:$,itemHref:L.itemHref}),(0,n.jsxs)(d.Pl,{defaultTheme:"light",children:[(0,n.jsx)(F.A,{onModalClose:ea,isModalOpen:M}),(0,n.jsx)(k.A,{itemDetails:Z.itemDetails,isTemplate:Z.isTemplate,storyItemType:w,isVisible:O,onClose:U,duplicateMode:"published"})]}),ex.styles]}),eA=eg&&L.onFrameRestartClick&&(0,n.jsx)(eP,{onFrameRestartClick:L.onFrameRestartClick}),ef=eu&&!D?(0,n.jsx)(eL,{isRenderedInlineInStory:N,isRenderedInFrameOrBriefing:T,itemOwner:L.itemOwner}):null;return(0,n.jsxs)(n.Fragment,{children:[N?(ei&&!es||Z.type===j.z.Frame)&&(0,n.jsxs)("div",{className:a().dynamic([["94718b3e54eb379b",[p.Ay.spacing.lg,h.Ay.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"}),p.Ay.responsiveBreakpoints.large,p.Ay.spacing.xl]]])+" "+(c()("inline-actions-container",L.className)||""),children:[(0,n.jsxs)("div",{className:a().dynamic([["94718b3e54eb379b",[p.Ay.spacing.lg,h.Ay.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"}),p.Ay.responsiveBreakpoints.large,p.Ay.spacing.xl]]])+" inline-buttons",children:[ef,eA,eb]}),eu&&(0,n.jsx)(eD,{isRenderedInline:!0,isRenderedInNativeApp:D,itemOwner:L.itemOwner})]}):(0,n.jsxs)("div",{className:a().dynamic([["94718b3e54eb379b",[p.Ay.spacing.lg,h.Ay.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"}),p.Ay.responsiveBreakpoints.large,p.Ay.spacing.xl]]])+" header-actions-container",children:[ef,eh&&(0,n.jsx)(e7,{}),eb]}),(0,n.jsx)(a(),{id:"94718b3e54eb379b",dynamic:[p.Ay.spacing.lg,h.Ay.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"}),p.Ay.responsiveBreakpoints.large,p.Ay.spacing.xl],children:`.inline-actions-container.__jsx-style-dynamic-selector{display:flex;flex-direction:column;align-items:center;margin:${p.Ay.spacing.lg} 0}.inline-buttons.__jsx-style-dynamic-selector,.header-actions-container.__jsx-style-dynamic-selector{${h.Ay.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"})}}@media(min-width:${p.Ay.responsiveBreakpoints.large}){.inline-actions-container.__jsx-style-dynamic-selector{margin:${p.Ay.spacing.xl} 0}}`})]})}},511206:(e,t,i)=>{i.d(t,{A:()=>p});var s=i(406029),n=i(571711),o=i.n(n);i(455729);var a=i(332988),r=i.n(a),l=i(882453),c=i(823895),d=i(35068);let p=({maxHeight:e=l.Ay.spacing.md,maxWidth:t=l.Ay.spacing.custom("12rem")})=>{let{storyLogo:i}=(0,c.E)(),n=(0,d.A)();if(!i)return null;let a=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:i.src,alt:i.alt||n("component.storyLogo.default.altText"),className:o().dynamic([["79da23793b588293",[l.Ay.spacing.md,e,t]]])+" "+(r()({"is-svg":"svg"===i.fileType})||"")}),(0,s.jsx)(o(),{id:"79da23793b588293",dynamic:[l.Ay.spacing.md,e,t],children:`img.is-svg.__jsx-style-dynamic-selector{min-width:${l.Ay.spacing.md}}img.__jsx-style-dynamic-selector{max-height:${e};max-width:${t}}`})]});return i.link?(0,s.jsxs)("a",{href:i.link,target:"_blank",rel:"noreferrer noopener",className:"jsx-c86c0e5815b32f63",children:[a,(0,s.jsx)(o(),{id:"c86c0e5815b32f63",children:"a.jsx-c86c0e5815b32f63{line-height:0;display:inline-block}"})]}):a}},517838:(e,t,i)=>{i.d(t,{n:()=>g,A:()=>x});var s=i(406029),n=i(571711),o=i.n(n),a=i(455729),r=i(531977),l=i(707118),c=i(882453),d=i(364537),p=i(724875),m=i(273356),y=i(35068),u=i(47643);let h={[p.z.Story]:{title:"component.duplicateItem.story.modal.title",primaryButtonTitle:"component.duplicateItem.modal.confirmDuplicate",draft:{description1:"component.duplicateItem.story.modal.description.p1",description2:"component.duplicateItem.story.modal.description.p2"},published:{description1:"component.duplicateItem.publishedVersion.story.modal.description.p1",description2:"component.duplicateItem.story.modal.description.p2"}},[p.z.Collection]:{title:"component.duplicateItem.collection.modal.title",primaryButtonTitle:"component.duplicateItem.modal.confirmDuplicate",draft:{description1:"component.duplicateItem.collection.modal.description.p1",description2:"component.duplicateItem.collection.modal.description.p2"},published:{description1:"component.duplicateItem.publishedVersion.collection.modal.description.p1",description2:"component.duplicateItem.collection.modal.description.p2"}},[p.z.Theme]:{title:"component.duplicateItem.theme.modal.title",primaryButtonTitle:"component.duplicateItem.modal.confirmDuplicate",draft:{description1:"component.duplicateItem.theme.modal.description.p1",description2:""},published:{description1:"component.duplicateItem.publishedVersion.theme.modal.description.p1",description2:""}},[p.z.Briefing]:{title:"component.duplicateItem.briefing.modal.title",primaryButtonTitle:"component.duplicateItem.modal.confirmDuplicate",draft:{description1:"component.duplicateItem.briefing.modal.description.p1",description2:"component.duplicateItem.briefing.modal.description.p2"},published:{description1:"component.duplicateItem.publishedVersion.briefing.modal.description.p1",description2:"component.duplicateItem.briefing.modal.description.p2"}},[p.z.Frame]:{title:"component.duplicateItem.frame.modal.title",primaryButtonTitle:"component.duplicateItem.modal.confirmDuplicate",draft:{description1:"component.duplicateItem.frame.modal.description.p1",description2:""},published:{description1:"",description2:""}},template:{title:"component.duplicateItem.template.modal.title",primaryButtonTitle:"component.duplicateItem.modal.confirmDuplicate",draft:{description1:"component.duplicateItem.template.modal.description.p1",description2:"component.duplicateItem.template.modal.description.p2"},published:{description1:"component.duplicateItem.publishedVersion.template.modal.description.p1",description2:""}}},g=e=>{let{itemDetails:t,storyItemType:i,isTemplate:n,isVisible:g,onClose:x,duplicateMode:b="draft"}=e,[A,f]=(0,a.useState)(),j=(0,y.A)(),v=(0,r.Py)(),k=(0,d.UK)(),C=(0,a.useRef)(new m.YJ({type:i,authManager:v.authManager,version:"draft",getStoryMapUserPrivileges:()=>v.storyMapUserPrivileges,config:k}));C.current.itemId=t.id;let I=()=>{f(void 0),x()},w=i!==p.z.Theme,_=n?h.template:h[i];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.A,{headerTitle:j(_.title),isShowingModal:g,primaryButtonTitle:j(_.primaryButtonTitle),onPrimaryButtonClick:()=>{f("duplicate"),x()},secondaryButtonTitle:j("common.cancel"),onSecondaryButtonClick:x,onCloseButtonClick:x,closeButtonLabel:j("common.close"),children:[(0,s.jsx)("p",{className:o().dynamic([["c646767d196e97f2",[c.Ay.color.cadet]]])+" modal-description",children:j(_[b].description1)}),w&&(0,s.jsx)("p",{className:o().dynamic([["c646767d196e97f2",[c.Ay.color.cadet]]])+" modal-description",children:j(_[b].description2)}),(0,s.jsx)(o(),{id:"c646767d196e97f2",dynamic:[c.Ay.color.cadet],children:`.modal-description.__jsx-style-dynamic-selector{margin:0;color:${c.Ay.color.cadet}}`})]}),A&&(0,s.jsx)(u.A,{phase:A,storyItem:C.current,onFinish:I,onClose:I,itemType:i,duplicateMode:b})]})},x=g},581695:(e,t,i)=>{i.d(t,{N:()=>r});var s=i(455729),n=i(52457),o=i(892810),a=i(739962);let r=()=>{let{updateAppOffsetValues:e,top:t,classificationBanner:i}=(0,o.k3)(),r=i?(0,n.U)(i):0,l=(0,n.U)(t)>=(0,n.U)(a.q8)+r,c=(0,s.useCallback)(t=>{t!==l&&("boolean"!=typeof t&&(t=!l),e({top:{storyHeader:t?(0,n.U)(a.q8):0}}))},[e,l]);return{hasSpaceForHeader:l,toggleHeaderSpace:c}}},644152:(e,t,i)=>{i.d(t,{A:()=>h});var s=i(406029),n=i(571711),o=i.n(n),a=i(455729),r=i(332988),l=i.n(r),c=i(395597),d=i(469121),p=i(108173),m=i(337139),y=i(35068),u=i(244835);let h=(0,a.forwardRef)(function({isRenderedInlineInStory:e=!1,isRenderedInFrameOrBriefing:t=!1,...i},n){let a=(0,m.cu)(),{theme:r}=(0,c.df)(),h=(0,y.A)(),g=(0,u.G)({themeVariables:a,websiteTheme:r,flavor:t?"frame":e?"story":void 0}),x=h(i.tooltipId),b="single-icon",A={styles:(0,s.jsx)(o(),{id:"2bd5f2ffd27439c9",dynamic:[b,i.id,g.foregroundColor,g.backgroundColor,b,i.id,g.hoverBackgroundColor,b,i.id,g.activeForegroundColor,g.activeBackgroundColor,b,i.id,g.separatorColor],children:`.${b}.${i.id}.themed.__jsx-style-dynamic-selector>*{color:${g.foregroundColor};background-color:${g.backgroundColor}}.${b}.${i.id}.themed.__jsx-style-dynamic-selector:not(.disabled):hover>*{background-color:${g.hoverBackgroundColor}}.${b}.${i.id}.themed.__jsx-style-dynamic-selector:not(.disabled):is(:active,[aria-haspopup][aria-expanded="true"],[aria-haspopup][aria-expanded="true"]:hover)>*{color:${g.activeForegroundColor};background-color:${g.activeBackgroundColor}}.${b}.${i.id}.themed.disabled.__jsx-style-dynamic-selector>*{color:${g.separatorColor}}`}),className:o().dynamic([["2bd5f2ffd27439c9",[b,i.id,g.foregroundColor,g.backgroundColor,b,i.id,g.hoverBackgroundColor,b,i.id,g.activeForegroundColor,g.activeBackgroundColor,b,i.id,g.separatorColor]]])},f=i.isDisabled?h(i.disabledTooltipId):x;return(0,s.jsxs)(d.m_,{disabled:!f,children:[(0,s.jsx)(d.k$,{autoARIALabelledByEnabled:!1,autoARIADescribedByEnabled:!1,"aria-expanded":i.isActive,"aria-controls":i["aria-controls"],children:(0,s.jsx)(p.Ay,{type:b,className:l()(i.id,"themed",A.className),"aria-expanded":i.isActive,"aria-haspopup":"boolean"==typeof i.isActive,visuallyHiddenLabel:x,disabled:i.isDisabled,onClick:i.onClick,ref:n,children:i.icon})}),(0,s.jsx)(d.ZI,{children:f}),A.styles]})})},653045:(e,t,i)=>{i.d(t,{A:()=>v});var s=i(406029),n=i(571711),o=i.n(n),a=i(455729),r=i(947),l=i(332988),c=i.n(l),d=i(652225),p=i(882453),m=i(951268),y=i(724875),u=i(511206),h=i(55814),g=i(899110),x=i(25706),b=i(581695),A=i(980933),f=i(968313),j=i(412359);let v=e=>{let{formatMessage:t}=(0,r.A)(),i=(0,h.r)(),{openMode:n}=(0,g.EN)(),l=(0,x.ck)(),{isViewportMinWidth:v}=(0,d.Ye)(),{toggleHeaderSpace:k}=(0,b.N)();if((0,a.useEffect)(()=>{"hybrid"===n&&k(!1)},[n]),e.printMode)return null;let C="viewer-header",I="briefing-viewer-header",w="close",_={styles:(0,s.jsx)(o(),{id:"8b3ace9fcd413b19",dynamic:[C,I,p.Ay.spacing.xxs,p.Ay.responsiveBreakpoints.medium,C,I,p.Ay.spacing.xs,C,I,w,p.Ay.spacing.lg,C,I,p.Ay.responsiveBreakpoints.medium,C,I,C,I],children:`.${C}.${I}.__jsx-style-dynamic-selector{padding:0 ${p.Ay.spacing.xxs}}@media(min-width:${p.Ay.responsiveBreakpoints.medium}){.${C}.${I}.__jsx-style-dynamic-selector{padding:0 ${p.Ay.spacing.xs}}.${C}.${I}.${w}.__jsx-style-dynamic-selector{padding-inline-start:${p.Ay.spacing.lg}}}.${C}.${I}.__jsx-style-dynamic-selector .content{grid-template-columns:1fr auto}@media(min-width:${p.Ay.responsiveBreakpoints.medium}){.${C}.${I}.__jsx-style-dynamic-selector .content{grid-template-columns:1fr auto 1fr}}.${C}.${I}.__jsx-style-dynamic-selector .end-content{justify-self:end}`}),className:o().dynamic([["8b3ace9fcd413b19",[C,I,p.Ay.spacing.xxs,p.Ay.responsiveBreakpoints.medium,C,I,p.Ay.spacing.xs,C,I,w,p.Ay.spacing.lg,C,I,p.Ay.responsiveBreakpoints.medium,C,I,C,I]]])},S=i.briefingDisplay.currentIndex,P=t({id:"component.autoplay.returnToTop.label"},{itemTitle:e.title}),$=(0,s.jsxs)("div",{className:o().dynamic([["f3caea5a9fc4fea",[m.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.xxs,alignItems:"center",justifyContent:"start"})]]])+" start-content",children:[e.isOrgItem?(0,s.jsxs)(s.Fragment,{children:[e.shouldShowLogoInHeader&&(0,s.jsx)(u.A,{}),(0,s.jsx)("button",{type:"button","aria-label":P,onClick:e.onTitleClicked,className:o().dynamic([["f3caea5a9fc4fea",[m.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.xxs,alignItems:"center",justifyContent:"start"})]]])+" inherit",children:(0,s.jsx)(f.A,{title:e.title,itemType:y.z.Briefing})})]}):e.appLogo,(0,s.jsx)(o(),{id:"f3caea5a9fc4fea",dynamic:[m.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.xxs,alignItems:"center",justifyContent:"start"})],children:`.start-content.__jsx-style-dynamic-selector{text-wrap-style:balance;${m.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.xxs,alignItems:"center",justifyContent:"start"})};}button.inherit.__jsx-style-dynamic-selector{text-align:inherit}`})]}),N=(v("medium")||"hybrid"===n)&&(0,s.jsx)("div",{className:"center-content",children:(0,s.jsx)(j.A,{shouldDisablePresentationModeUI:e.shouldDisablePresentationModeUI,shouldHidePresentationModeUI:"hybrid"===n})});return(0,s.jsxs)(A.A,{className:c()(I,_.className,{[w]:"hybrid"===n}),getActiveNodeId:()=>{if(!l.itemData)return;let e=Object.values(l.itemData.nodes).find(e=>"briefing-ui"===e.type),t=e?.children?.filter(e=>!l.itemData.nodes[e]?.config?.isHidden);return t?.[S]},borderThickness:"0px",...e,children:[$,N,_.styles]})}},794958:(e,t,i)=>{i.d(t,{B:()=>a});var s=i(406029),n=i(455729),o=i(673530);let a=e=>class extends n.PureComponent{render(){return(0,s.jsx)(o.C.Consumer,{children:t=>(0,s.jsx)(e,{...this.props,collectionData:t.collectionData,collectionDisplay:t.collectionDisplay})})}}},807932:(e,t,i)=>{i.d(t,{A:()=>j});var s=i(406029),n=i(571711),o=i.n(n),a=i(455729),r=i(639151),l=i(951268),c=i(882453),d=i(395597),p=i(52457),m=i(249555),y=i(511206),u=i(337139),h=i(892810),g=i(22836),x=i(739962),b=i(980933),A=i(968313);class f extends a.Component{static{this.defaultProps={canShowItemTitle:!0}}componentDidMount(){let e=(0,p.U)(x.q8),t=(0,p.U)(x.wC);this.props.appOffset.updateAppOffsetValues({top:{storyHeader:e,templateBanner:this.props.storyItem.isTemplate?t:0}})}componentDidUpdate(e){let t=(0,m.kp)(this.props.storyDesign.themeVariables);t!==(0,m.kp)(e.storyDesign.themeVariables)&&this.props.websiteDesign.updateWebsiteTheme(t)}componentWillUnmount(){this.props.appOffset.updateAppOffsetValues({top:{storyHeader:0,templateBanner:0}})}render(){let e=this.props.intl.formatMessage({id:"component.autoplay.returnToTop.label"},{itemTitle:this.props.title});return(0,s.jsx)(b.A,{...this.props,children:(0,s.jsxs)("div",{className:o().dynamic([["21657ecbc5013bbd",[l.Ay.gapped({direction:"horizontal",gap:c.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})]]])+" start-content",children:[this.props.isOrgItem?(0,s.jsxs)(s.Fragment,{children:[this.props.shouldShowLogoInHeader&&this.props.canShowItemTitle&&(0,s.jsx)(y.A,{}),(0,s.jsx)("button",{type:"button","aria-label":e,onClick:this.props.onTitleClicked,className:o().dynamic([["21657ecbc5013bbd",[l.Ay.gapped({direction:"horizontal",gap:c.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})]]])+" inherit",children:this.props.canShowItemTitle?(0,s.jsx)(A.A,{title:this.props.title}):this.props.appLogo})]}):this.props.appLogo,(0,s.jsx)(o(),{id:"21657ecbc5013bbd",dynamic:[l.Ay.gapped({direction:"horizontal",gap:c.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})],children:`.start-content.__jsx-style-dynamic-selector{${l.Ay.gapped({direction:"horizontal",gap:c.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})}}button.inherit.__jsx-style-dynamic-selector{color:inherit;text-align:inherit}`})]})})}}let j=(0,h.Cm)((0,r.Ay)((0,u.ng)((0,d.NV)((0,g.e)(f)))))},925757:(e,t,i)=>{i.d(t,{M:()=>f});var s=i(406029),n=i(571711),o=i.n(n),a=i(332988),r=i.n(a),l=i(113516),c=i(555109),d=i(240953),p=i(20196),m=i(395597),y=i(882453),u=i(108173),h=i(476011),g=i(35068),x=i(48858),b=i(951268);let A=({currentNumber:e,totalNumber:t})=>{let i=(0,g.A)()("viewer.briefing.slideProgress",{slideNumber:e,totalNumberOfSlides:t}),n={styles:(0,s.jsx)(o(),{id:"8ae230fdc3916169",dynamic:[b.Ay.typography.subtitleLarge()],children:`.briefing-progress-numbers.__jsx-style-dynamic-selector{${b.Ay.typography.subtitleLarge()}}`}),className:o().dynamic([["8ae230fdc3916169",[b.Ay.typography.subtitleLarge()]]])};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Z,{srOnlyMessage:i,currentNumber:e,totalNumber:t,progressNumbersClassName:r()("briefing-progress-numbers",n.className)}),n.styles]})},f=({currentIndex:e,totalNumberOfSlides:t,handlePrev:i,handleNext:n,handleTogglePanel:a})=>{let b=(0,g.A)(),{theme:f,productVariables:j}=(0,m.df)(),v={styles:(0,s.jsx)(o(),{id:"79414526cd4d799",dynamic:[f.colors.outlineSubduedDefault,f.colors.backgroundPrimary,j.borderRadius.full,y.Ay.spacing.xxs,y.Ay.spacing.xxs,j.borderRadius.full,f.colors.surfaceHover,f.colors.surfaceHover],children:`.is-variant.__jsx-style-dynamic-selector{border:1px solid ${f.colors.outlineSubduedDefault};background:${f.colors.backgroundPrimary};border-radius:${j.borderRadius.full}}.is-variant.__jsx-style-dynamic-selector:first-child{margin-inline-end:${y.Ay.spacing.xxs}}.is-variant.__jsx-style-dynamic-selector:last-child{margin-inline-start:${y.Ay.spacing.xxs}}.is-variant.__jsx-style-dynamic-selector .icon-wrapper{border-radius:${j.borderRadius.full}}.is-variant.__jsx-style-dynamic-selector:not(.disabled):hover,.is-variant.__jsx-style-dynamic-selector:not(.disabled):hover *{background-color:${f.colors.surfaceHover};background:${f.colors.surfaceHover}}`}),className:o().dynamic([["79414526cd4d799",[f.colors.outlineSubduedDefault,f.colors.backgroundPrimary,j.borderRadius.full,y.Ay.spacing.xxs,y.Ay.spacing.xxs,j.borderRadius.full,f.colors.surfaceHover,f.colors.surfaceHover]]])};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Ay,{type:"single-icon",visuallyHiddenLabel:b("component.briefings.header.navigation.previous"),onClick:i,disabled:0===e,shouldInsetFocusStyle:!0,className:r()(v.className,{"is-variant":a}),children:(0,s.jsx)(h.A,{path:a?l.N:c.U,size:a?24:16,shouldFlipRTL:!0})}),a?(0,s.jsx)("button",{"aria-label":b("component.builderPanel.manageSlides"),"aria-describedby":x.N,onClick:a,className:o().dynamic([["8c09101db5b6420d",[f.colors.outlineSubduedDefault,f.colors.backgroundPrimary,y.Ay.spacing.custom("8.9rem"),y.Ay.spacing.lg,f.colors.surfaceHover]]])+" toggle-button",children:(0,s.jsx)(A,{currentNumber:e+1,totalNumber:t})}):(0,s.jsx)(A,{currentNumber:e+1,totalNumber:t}),(0,s.jsx)(u.Ay,{type:"single-icon",visuallyHiddenLabel:b("component.briefings.header.navigation.next"),onClick:n,disabled:e>=t-1,shouldInsetFocusStyle:!0,className:r()(v.className,{"is-variant":a}),children:(0,s.jsx)(h.A,{path:a?d.U:p.b,size:a?24:16,shouldFlipRTL:!0})}),v.styles,(0,s.jsx)(o(),{id:"8c09101db5b6420d",dynamic:[f.colors.outlineSubduedDefault,f.colors.backgroundPrimary,y.Ay.spacing.custom("8.9rem"),y.Ay.spacing.lg,f.colors.surfaceHover],children:`.toggle-button.__jsx-style-dynamic-selector{display:flex;align-items:center;justify-content:center;border:1px solid ${f.colors.outlineSubduedDefault};background:${f.colors.backgroundPrimary};min-width:${y.Ay.spacing.custom("8.9rem")};height:${y.Ay.spacing.lg};border-radius:80px}.toggle-button.__jsx-style-dynamic-selector:hover{background:${f.colors.surfaceHover}}`})]})}},948408:(e,t,i)=>{i.d(t,{S:()=>u});var s=i(406029),n=i(571711),o=i.n(n),a=i(455729),r=i(332988),l=i.n(r),c=i(531977),d=i(364537),p=i(757808),m=i(892810);let y=a.lazy(()=>Promise.all([i.e(84398),i.e(54062),i.e(95376),i.e(30738),i.e(30957),i.e(24016),i.e(60001),i.e(3385)]).then(i.bind(i,503385))),u=({itemId:e,position:t,shouldObserveResize:i=!0})=>{let{updateAppOffsetValues:n}=(0,m.k3)(),{IS_PORTAL:r,IS_SCRIPT_EMBEDDED:u}=(0,d.UK)(),{authManager:h,portalSelfResponse:g}=(0,c.Py)(),x=(0,a.useRef)(null),b=r&&h&&g?.hasClassificationSchema&&!u&&!(0,p.nq)();if((0,a.useEffect)(()=>{if(!x.current||!i)return;let e=new ResizeObserver(()=>{let e=x.current?.clientHeight,t=e?e/16:void 0;t&&n({top:{classificationBanner:t},bottom:{classificationBanner:t},classificationBanner:`${t}rem`})});return e.observe(x.current),()=>{e.disconnect()}},[i,n]),b)return(0,s.jsxs)("div",{ref:x,className:"jsx-c9b2ae60abbb5a93 "+(l()("classification-banner-wrapper",t)||""),children:[(0,s.jsx)(a.Suspense,{fallback:null,children:(0,s.jsx)(y,{itemId:e})}),(0,s.jsx)(o(),{id:"c9b2ae60abbb5a93",children:".classification-banner-wrapper.jsx-c9b2ae60abbb5a93{position:fixed;inset-inline:0;width:100%}.classification-banner-wrapper.top.jsx-c9b2ae60abbb5a93{top:0;z-index:1}.classification-banner-wrapper.bottom.jsx-c9b2ae60abbb5a93{bottom:0}"})]})}},951300:(e,t,i)=>{i.d(t,{A:()=>c});var s=i(406029),n=i(455729),o=i(332988),a=i.n(o),r=i(583722);class l extends n.PureComponent{render(){let e=a()("page-container",this.props.className);return(0,s.jsx)("div",{id:r.Qo,className:e,onDragOver:this.handleDragOver,onDrop:this.handleDrop,translate:this.props.translate,children:this.props.children})}constructor(...e){super(...e),this.handleDrop=e=>{e.stopPropagation(),e.preventDefault()},this.handleDragOver=e=>{e.stopPropagation(),e.preventDefault()}}}let c=l},951358:(e,t,i)=>{i.d(t,{Tt:()=>l,Lr:()=>c});var s=i(406029),n=i(455729),o=i(695505);let a=(e,t=!1)=>{if(t)window.history.replaceState({},"disable autoplay",(0,o.wz)(window.location.href,["play","speed"]));else if(e){let t=(0,o.dn)(window.location.href,{play:"true",speed:e});window.history.replaceState({},"update autoplay speed",t)}},r=(0,n.createContext)({isAutoplayEnabled:!1,isAutoplayPaused:!1,autoplaySpeed:"medium",enableAutoplay:()=>{},disableAutoplay:()=>{},updateAutoplaySpeed:()=>{},updateIsAutoplayPaused:()=>{}}),l=({children:e,initialQuery:t})=>{let[i,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)("medium"),[p,m]=(0,n.useState)(!0),y=t?.navigation==="false";return(0,n.useEffect)(()=>{let e=(0,o.JV)(t)&&!y,i=(0,o.TX)(t);l(e),d(i),e&&a(i)},[t]),(0,s.jsx)(r.Provider,{value:{isAutoplayEnabled:i,isAutoplayPaused:p,autoplaySpeed:c,shouldHideAutoPlay:y,enableAutoplay:()=>{l(!0),a(c)},disableAutoplay:()=>{l(!1),d("medium"),a(void 0,!0)},updateAutoplaySpeed:e=>{d(e),a(e)},updateIsAutoplayPaused:e=>{m(e)}},children:e})},c=e=>class extends n.PureComponent{render(){return(0,s.jsx)(r.Consumer,{children:t=>(0,s.jsx)(e,{...this.props,...t})})}}},956700:(e,t,i)=>{i.d(t,{m:()=>s});let s=e=>{}},968313:(e,t,i)=>{i.d(t,{A:()=>u});var s=i(406029),n=i(571711),o=i.n(n),a=i(455729),r=i(639151),l=i(951268),c=i(724875),d=i(337139),p=i(22836),m=i(710377);class y extends a.Component{static{this.defaultProps={itemType:c.z.Story}}render(){let e=(0,m.UK)({itemType:this.props.itemType,isTemplate:this.props.storyItem.isTemplate,title:this.props.title,formatMessage:this.props.intl.formatMessage}),t=this.props.itemType===c.z.Briefing?this.props.storyDesign.themeVariables.mixins.typography.body.size.stepUp1:this.props.storyDesign.themeVariables.mixins.typography.body.size.stepDown1;return(0,s.jsxs)("span",{className:o().dynamic([["e4b260ac996fcd9e",[l.Ay.overflowWrap(),t({lineClamp:{numLines:2,fit:!0},overrideBaseFontAdjustment:0})]]])+" story-title",children:[e,(0,s.jsx)(o(),{id:"e4b260ac996fcd9e",dynamic:[l.Ay.overflowWrap(),t({lineClamp:{numLines:2,fit:!0},overrideBaseFontAdjustment:0})],children:`.story-title.__jsx-style-dynamic-selector{${l.Ay.overflowWrap()}
            ${t({lineClamp:{numLines:2,fit:!0},overrideBaseFontAdjustment:0})}}`})]})}}let u=(0,r.Ay)((0,d.ng)((0,p.e)(y)))},978434:(e,t,i)=>{i.d(t,{N:()=>a});var s=i(406029),n=i(455729),o=i(902776);let a=e=>class extends n.PureComponent{render(){return(0,s.jsx)(o.i.Consumer,{children:t=>(0,s.jsx)(e,{...this.props,storyOffsetContext:t})})}}},980933:(e,t,i)=>{i.d(t,{A:()=>N});var s=i(406029),n=i(571711),o=i.n(n),a=i(455729),r=i(332988),l=i.n(r),c=i(951268),d=i(395597),p=i(882453),m=i(912689),y=i(531977),u=i(652225),h=i(724875),g=i(757808),x=i(640716),b=i(364537),A=i(337139),f=i(739962),j=i(892810),v=i(22836),k=i(510108),C=i(509986),I=i(962549),w=i(25706),_=i(35068);let S=()=>{let e=(0,w.ck)(),t=(0,d.df)(),i=(0,_.A)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:o().dynamic([["6f9ff7904cce0ec0",[t.theme.colors.surfaceDefaultStrong,t.theme.colors.interactiveHover,p.Ay.spacing.xxxs,t.theme.colors.interactiveDefault,c.Ay.typography.subtitleLarge(),c.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})]]])+" template-banner",children:(0,s.jsx)(m.A,{children:(0,s.jsx)("div",{className:o().dynamic([["6f9ff7904cce0ec0",[t.theme.colors.surfaceDefaultStrong,t.theme.colors.interactiveHover,p.Ay.spacing.xxxs,t.theme.colors.interactiveDefault,c.Ay.typography.subtitleLarge(),c.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})]]])+" template-banner-content",children:(0,s.jsx)("p",{className:o().dynamic([["6f9ff7904cce0ec0",[t.theme.colors.surfaceDefaultStrong,t.theme.colors.interactiveHover,p.Ay.spacing.xxxs,t.theme.colors.interactiveDefault,c.Ay.typography.subtitleLarge(),c.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})]]]),children:i("builder"===e.viewerMode?"component.templateEditor.banner":"viewer.template.banner")})})})}),(0,s.jsx)(o(),{id:"6f9ff7904cce0ec0",dynamic:[t.theme.colors.surfaceDefaultStrong,t.theme.colors.interactiveHover,p.Ay.spacing.xxxs,t.theme.colors.interactiveDefault,c.Ay.typography.subtitleLarge(),c.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})],children:`.template-banner.__jsx-style-dynamic-selector{background-color:${t.theme.colors.surfaceDefaultStrong};color:${t.theme.colors.interactiveHover};padding-block:${p.Ay.spacing.xxxs};box-shadow:inset 0 0 0 1px ${t.theme.colors.interactiveDefault};text-align:center;${c.Ay.typography.subtitleLarge()}}.template-banner-content.__jsx-style-dynamic-selector{${c.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.xxs,alignItems:"center",justifyContent:"center"})}}`})]})};var P=i(244835);class $ extends a.PureComponent{static{this.defaultProps={isAvatarHidden:!1}}constructor(e){super(e),this.renderItemViewerActions=()=>(0,s.jsx)(C.A,{title:this.props.title,storyId:this.props.storyId,publishStatus:this.props.publishStatus,sharingLevel:this.props.sharingLevel,canEdit:this.props.canEdit,isOrgItem:this.props.isOrgItem,areSocialIconsHidden:this.props.areSocialIconsHidden,isContextMenuHidden:this.props.isContextMenuHidden,storyType:this.props.storyType,itemHref:this.props.itemHref,mode:this.props.mode,canShowLikeButton:this.props.canShowLikeButton,itemOwner:this.props.itemOwner,isRenderedInFrameOrBriefing:this.props.storyType===h.z.Briefing,getActiveNodeId:this.props.getActiveNodeId}),this.renderEndContent=()=>(0,s.jsxs)("div",{className:o().dynamic([["b802c5273e1ef0dc",[c.Ay.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"})]]])+" end-content",children:[this.renderItemViewerActions(),this.props.authManager?this.renderSignedInActions():this.props.signedOutUI,(0,s.jsx)(o(),{id:"b802c5273e1ef0dc",dynamic:[c.Ay.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"})],children:`.end-content.__jsx-style-dynamic-selector{${c.Ay.gapped({direction:"horizontal",alignItems:"center",justifyContent:"center"})}}body.print .end-content.__jsx-style-dynamic-selector{display:none}`})]}),this.renderSignedInActions=()=>this.props.isViewportMaxWidth("medium")||!this.state.isMounted?null:!this.props.isAvatarHidden&&!this.state.isEmbedded&&this.props.mode&&"preview"!==this.props.mode&&"embedded-preview"!==this.props.mode&&(0,s.jsx)("div",{className:"profile-container",children:this.props.avatar}),this.state={isMounted:!1}}componentDidMount(){this.setState({isMounted:!0,isEmbedded:(0,g.nq)()})}render(){let e=this.props.borderThickness??"1px",t=this.props.isOrgItem&&!this.props.storyContext.storyLogo,{foregroundColor:i,backgroundColor:n,separatorColor:a}=(0,P.G)({themeVariables:this.props.storyDesign.themeVariables,websiteTheme:this.props.websiteDesign.theme,flavor:this.props.storyType===h.z.Briefing?this.props.storyType:void 0}),r=this.props.topOffset??0,y=this.props.storyItem.isTemplate&&(0,s.jsx)(d.Pl,{defaultTheme:"light",children:(0,s.jsx)(S,{})});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("header",{role:"banner",className:o().dynamic([["c95cc1a402c3d946",[r,this.props.appOffset.left,this.props.appOffset.right,i,n,e,a,c.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.sm,alignItems:"center",justifyContent:"space-between"}),f.q8,e,p.Ay.print.textColor,p.Ay.print.backgroundColor,p.Ay.spacing.xxs,t?"none":"block"]]])+" "+(l()("viewer-header",this.props.className,{disabled:this.props.disabled})||""),children:[void 0===this.props.mode&&y,(0,s.jsx)(m.A,{isFullWidth:this.props.storyType===h.z.Briefing,children:(0,s.jsxs)("div",{className:o().dynamic([["c95cc1a402c3d946",[r,this.props.appOffset.left,this.props.appOffset.right,i,n,e,a,c.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.sm,alignItems:"center",justifyContent:"space-between"}),f.q8,e,p.Ay.print.textColor,p.Ay.print.backgroundColor,p.Ay.spacing.xxs,t?"none":"block"]]])+" "+(l()("content",this.props.contentClassName)||""),children:[this.props.shouldShowSkipLink&&!this.state.isEmbedded&&(0,s.jsx)(I.A,{shouldApplyStoryTheme:!0,href:this.props.hashForSkipLink}),this.props.children,this.state.isMounted&&!this.props.isScriptEmbed&&this.renderEndContent()]})}),this.props.mode&&y]}),(0,s.jsx)(o(),{id:"c95cc1a402c3d946",dynamic:[r,this.props.appOffset.left,this.props.appOffset.right,i,n,e,a,c.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.sm,alignItems:"center",justifyContent:"space-between"}),f.q8,e,p.Ay.print.textColor,p.Ay.print.backgroundColor,p.Ay.spacing.xxs,t?"none":"block"],children:`.viewer-header.__jsx-style-dynamic-selector{position:sticky;top:${r};left:${this.props.appOffset.left};right:${this.props.appOffset.right};z-index:99;color:${i};background-color:${n};border-bottom:${e} solid ${a}}.viewer-header.disabled.__jsx-style-dynamic-selector{pointer-events:none}.content.__jsx-style-dynamic-selector{${c.Ay.gapped({direction:"horizontal",gap:p.Ay.spacing.sm,alignItems:"center",justifyContent:"space-between"})};height:calc(${f.q8} - ${e})}body.print .viewer-header.__jsx-style-dynamic-selector{position:relative;color:${p.Ay.print.textColor};background-color:${p.Ay.print.backgroundColor};padding:0 ${p.Ay.spacing.xxs};box-sizing:border-box}body.print .viewer-header.__jsx-style-dynamic-selector{display:${t?"none":"block"}}`})]})}}let N=(0,y.hB)((0,x.Fo)((0,k.o)((0,A.ng)((0,b.az)((0,j.Cm)((0,u.S9)((0,d.NV)((0,v.e)($)))))))))}}]);